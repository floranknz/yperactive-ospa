{"version":3,"names":["_element","require","_history","_interopRequireDefault","RoutesContext","createContext","HistoryContext","useLocation","useContext","useHistory","getLocationWithParams","location","searchParams","URLSearchParams","search","params","Object","fromEntries","entries","RouterProvider","children","setLocation","useState","history","useEffect","listen","updatedLocation","_react","createElement","Provider","value"],"sources":["@wordpress/router/src/router.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport {\n\tcreateContext,\n\tuseState,\n\tuseEffect,\n\tuseContext,\n} from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport history from './history';\n\nconst RoutesContext = createContext();\nconst HistoryContext = createContext();\n\nexport function useLocation() {\n\treturn useContext( RoutesContext );\n}\n\nexport function useHistory() {\n\treturn useContext( HistoryContext );\n}\n\nfunction getLocationWithParams( location ) {\n\tconst searchParams = new URLSearchParams( location.search );\n\treturn {\n\t\t...location,\n\t\tparams: Object.fromEntries( searchParams.entries() ),\n\t};\n}\n\nexport function RouterProvider( { children } ) {\n\tconst [ location, setLocation ] = useState( () =>\n\t\tgetLocationWithParams( history.location )\n\t);\n\n\tuseEffect( () => {\n\t\treturn history.listen( ( { location: updatedLocation } ) => {\n\t\t\tsetLocation( getLocationWithParams( updatedLocation ) );\n\t\t} );\n\t}, [] );\n\n\treturn (\n\t\t<HistoryContext.Provider value={ history }>\n\t\t\t<RoutesContext.Provider value={ location }>\n\t\t\t\t{ children }\n\t\t\t</RoutesContext.Provider>\n\t\t</HistoryContext.Provider>\n\t);\n}\n"],"mappings":";;;;;;;;;;AAGA,IAAAA,QAAA,GAAAC,OAAA;AAUA,IAAAC,QAAA,GAAAC,sBAAA,CAAAF,OAAA;AAbA;AACA;AACA;;AAQA;AACA;AACA;;AAGA,MAAMG,aAAa,GAAG,IAAAC,sBAAa,EAAC,CAAC;AACrC,MAAMC,cAAc,GAAG,IAAAD,sBAAa,EAAC,CAAC;AAE/B,SAASE,WAAWA,CAAA,EAAG;EAC7B,OAAO,IAAAC,mBAAU,EAAEJ,aAAc,CAAC;AACnC;AAEO,SAASK,UAAUA,CAAA,EAAG;EAC5B,OAAO,IAAAD,mBAAU,EAAEF,cAAe,CAAC;AACpC;AAEA,SAASI,qBAAqBA,CAAEC,QAAQ,EAAG;EAC1C,MAAMC,YAAY,GAAG,IAAIC,eAAe,CAAEF,QAAQ,CAACG,MAAO,CAAC;EAC3D,OAAO;IACN,GAAGH,QAAQ;IACXI,MAAM,EAAEC,MAAM,CAACC,WAAW,CAAEL,YAAY,CAACM,OAAO,CAAC,CAAE;EACpD,CAAC;AACF;AAEO,SAASC,cAAcA,CAAE;EAAEC;AAAS,CAAC,EAAG;EAC9C,MAAM,CAAET,QAAQ,EAAEU,WAAW,CAAE,GAAG,IAAAC,iBAAQ,EAAE,MAC3CZ,qBAAqB,CAAEa,gBAAO,CAACZ,QAAS,CACzC,CAAC;EAED,IAAAa,kBAAS,EAAE,MAAM;IAChB,OAAOD,gBAAO,CAACE,MAAM,CAAE,CAAE;MAAEd,QAAQ,EAAEe;IAAgB,CAAC,KAAM;MAC3DL,WAAW,CAAEX,qBAAqB,CAAEgB,eAAgB,CAAE,CAAC;IACxD,CAAE,CAAC;EACJ,CAAC,EAAE,EAAG,CAAC;EAEP,OACC,IAAAC,MAAA,CAAAC,aAAA,EAACtB,cAAc,CAACuB,QAAQ;IAACC,KAAK,EAAGP;EAAS,GACzC,IAAAI,MAAA,CAAAC,aAAA,EAACxB,aAAa,CAACyB,QAAQ;IAACC,KAAK,EAAGnB;EAAU,GACvCS,QACqB,CACA,CAAC;AAE5B","ignoreList":[]}
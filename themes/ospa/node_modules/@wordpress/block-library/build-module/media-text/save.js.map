{"version":3,"names":["clsx","useInnerBlocksProps","useBlockProps","imageFillStyles","DEFAULT_MEDIA_SIZE_SLUG","DEFAULT_MEDIA_WIDTH","noop","save","attributes","isStackedOnMobile","mediaAlt","mediaPosition","mediaType","mediaUrl","mediaWidth","mediaId","verticalAlignment","imageFill","focalPoint","linkClass","href","linkTarget","rel","mediaSizeSlug","newRel","undefined","imageClasses","image","createElement","src","alt","className","target","mediaTypeRenders","video","controls","backgroundStyles","gridTemplateColumns","style"],"sources":["@wordpress/block-library/src/media-text/save.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { useInnerBlocksProps, useBlockProps } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport { imageFillStyles } from './media-container';\nimport { DEFAULT_MEDIA_SIZE_SLUG } from './constants';\n\nconst DEFAULT_MEDIA_WIDTH = 50;\nconst noop = () => {};\n\nexport default function save( { attributes } ) {\n\tconst {\n\t\tisStackedOnMobile,\n\t\tmediaAlt,\n\t\tmediaPosition,\n\t\tmediaType,\n\t\tmediaUrl,\n\t\tmediaWidth,\n\t\tmediaId,\n\t\tverticalAlignment,\n\t\timageFill,\n\t\tfocalPoint,\n\t\tlinkClass,\n\t\thref,\n\t\tlinkTarget,\n\t\trel,\n\t} = attributes;\n\tconst mediaSizeSlug = attributes.mediaSizeSlug || DEFAULT_MEDIA_SIZE_SLUG;\n\tconst newRel = ! rel ? undefined : rel;\n\n\tconst imageClasses = clsx( {\n\t\t[ `wp-image-${ mediaId }` ]: mediaId && mediaType === 'image',\n\t\t[ `size-${ mediaSizeSlug }` ]: mediaId && mediaType === 'image',\n\t} );\n\n\tlet image = mediaUrl ? (\n\t\t<img\n\t\t\tsrc={ mediaUrl }\n\t\t\talt={ mediaAlt }\n\t\t\tclassName={ imageClasses || null }\n\t\t/>\n\t) : null;\n\n\tif ( href ) {\n\t\timage = (\n\t\t\t<a\n\t\t\t\tclassName={ linkClass }\n\t\t\t\thref={ href }\n\t\t\t\ttarget={ linkTarget }\n\t\t\t\trel={ newRel }\n\t\t\t>\n\t\t\t\t{ image }\n\t\t\t</a>\n\t\t);\n\t}\n\n\tconst mediaTypeRenders = {\n\t\timage: () => image,\n\t\tvideo: () => <video controls src={ mediaUrl } />,\n\t};\n\tconst className = clsx( {\n\t\t'has-media-on-the-right': 'right' === mediaPosition,\n\t\t'is-stacked-on-mobile': isStackedOnMobile,\n\t\t[ `is-vertically-aligned-${ verticalAlignment }` ]: verticalAlignment,\n\t\t'is-image-fill': imageFill,\n\t} );\n\tconst backgroundStyles = imageFill\n\t\t? imageFillStyles( mediaUrl, focalPoint )\n\t\t: {};\n\n\tlet gridTemplateColumns;\n\tif ( mediaWidth !== DEFAULT_MEDIA_WIDTH ) {\n\t\tgridTemplateColumns =\n\t\t\t'right' === mediaPosition\n\t\t\t\t? `auto ${ mediaWidth }%`\n\t\t\t\t: `${ mediaWidth }% auto`;\n\t}\n\tconst style = {\n\t\tgridTemplateColumns,\n\t};\n\n\tif ( 'right' === mediaPosition ) {\n\t\treturn (\n\t\t\t<div { ...useBlockProps.save( { className, style } ) }>\n\t\t\t\t<div\n\t\t\t\t\t{ ...useInnerBlocksProps.save( {\n\t\t\t\t\t\tclassName: 'wp-block-media-text__content',\n\t\t\t\t\t} ) }\n\t\t\t\t/>\n\t\t\t\t<figure\n\t\t\t\t\tclassName=\"wp-block-media-text__media\"\n\t\t\t\t\tstyle={ backgroundStyles }\n\t\t\t\t>\n\t\t\t\t\t{ ( mediaTypeRenders[ mediaType ] || noop )() }\n\t\t\t\t</figure>\n\t\t\t</div>\n\t\t);\n\t}\n\treturn (\n\t\t<div { ...useBlockProps.save( { className, style } ) }>\n\t\t\t<figure\n\t\t\t\tclassName=\"wp-block-media-text__media\"\n\t\t\t\tstyle={ backgroundStyles }\n\t\t\t>\n\t\t\t\t{ ( mediaTypeRenders[ mediaType ] || noop )() }\n\t\t\t</figure>\n\t\t\t<div\n\t\t\t\t{ ...useInnerBlocksProps.save( {\n\t\t\t\t\tclassName: 'wp-block-media-text__content',\n\t\t\t\t} ) }\n\t\t\t/>\n\t\t</div>\n\t);\n}\n"],"mappings":"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","ignoreList":[]}
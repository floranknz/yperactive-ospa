{"version":3,"names":["_clsx","_interopRequireDefault","require","_blockEditor","_components","_i18n","_blocks","_galleryImage","_deprecated","Gallery","props","attributes","isSelected","setAttributes","selectedImage","mediaPlaceholder","onMoveBackward","onMoveForward","onRemoveImage","onSelectImage","onDeselectImage","onSetImageAttributes","insertBlocksAfter","blockProps","align","columns","defaultColumnsNumberV1","caption","imageCrop","images","_react","createElement","className","clsx","map","img","index","ariaLabel","sprintf","__","length","key","id","url","default","alt","isFirstItem","isLastItem","onRemove","onSelect","onDeselect","attrs","sizeSlug","RichTextVisibilityHelper","isHidden","RichText","isEmpty","tagName","__experimentalGetElementClassName","placeholder","value","onChange","inlineToolbar","__unstableOnSplitAtEnd","createBlock","getDefaultBlockName","exports","richTextProps","VisuallyHidden","as","_default"],"sources":["@wordpress/block-library/src/gallery/v1/gallery.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tRichText,\n\t__experimentalGetElementClassName,\n} from '@wordpress/block-editor';\nimport { VisuallyHidden } from '@wordpress/components';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { createBlock, getDefaultBlockName } from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport GalleryImage from './gallery-image';\nimport { defaultColumnsNumberV1 } from '../deprecated';\n\nexport const Gallery = ( props ) => {\n\tconst {\n\t\tattributes,\n\t\tisSelected,\n\t\tsetAttributes,\n\t\tselectedImage,\n\t\tmediaPlaceholder,\n\t\tonMoveBackward,\n\t\tonMoveForward,\n\t\tonRemoveImage,\n\t\tonSelectImage,\n\t\tonDeselectImage,\n\t\tonSetImageAttributes,\n\t\tinsertBlocksAfter,\n\t\tblockProps,\n\t} = props;\n\n\tconst {\n\t\talign,\n\t\tcolumns = defaultColumnsNumberV1( attributes ),\n\t\tcaption,\n\t\timageCrop,\n\t\timages,\n\t} = attributes;\n\n\treturn (\n\t\t<figure\n\t\t\t{ ...blockProps }\n\t\t\tclassName={ clsx( blockProps.className, {\n\t\t\t\t[ `align${ align }` ]: align,\n\t\t\t\t[ `columns-${ columns }` ]: columns,\n\t\t\t\t'is-cropped': imageCrop,\n\t\t\t} ) }\n\t\t>\n\t\t\t<ul className=\"blocks-gallery-grid\">\n\t\t\t\t{ images.map( ( img, index ) => {\n\t\t\t\t\tconst ariaLabel = sprintf(\n\t\t\t\t\t\t/* translators: 1: the order number of the image. 2: the total number of images. */\n\t\t\t\t\t\t__( 'image %1$d of %2$d in gallery' ),\n\t\t\t\t\t\tindex + 1,\n\t\t\t\t\t\timages.length\n\t\t\t\t\t);\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<li\n\t\t\t\t\t\t\tclassName=\"blocks-gallery-item\"\n\t\t\t\t\t\t\tkey={ img.id ? `${ img.id }-${ index }` : img.url }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<GalleryImage\n\t\t\t\t\t\t\t\turl={ img.url }\n\t\t\t\t\t\t\t\talt={ img.alt }\n\t\t\t\t\t\t\t\tid={ img.id }\n\t\t\t\t\t\t\t\tisFirstItem={ index === 0 }\n\t\t\t\t\t\t\t\tisLastItem={ index + 1 === images.length }\n\t\t\t\t\t\t\t\tisSelected={\n\t\t\t\t\t\t\t\t\tisSelected && selectedImage === index\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonMoveBackward={ onMoveBackward( index ) }\n\t\t\t\t\t\t\t\tonMoveForward={ onMoveForward( index ) }\n\t\t\t\t\t\t\t\tonRemove={ onRemoveImage( index ) }\n\t\t\t\t\t\t\t\tonSelect={ onSelectImage( index ) }\n\t\t\t\t\t\t\t\tonDeselect={ onDeselectImage( index ) }\n\t\t\t\t\t\t\t\tsetAttributes={ ( attrs ) =>\n\t\t\t\t\t\t\t\t\tonSetImageAttributes( index, attrs )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tcaption={ img.caption }\n\t\t\t\t\t\t\t\taria-label={ ariaLabel }\n\t\t\t\t\t\t\t\tsizeSlug={ attributes.sizeSlug }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t);\n\t\t\t\t} ) }\n\t\t\t</ul>\n\t\t\t{ mediaPlaceholder }\n\t\t\t<RichTextVisibilityHelper\n\t\t\t\tisHidden={ ! isSelected && RichText.isEmpty( caption ) }\n\t\t\t\ttagName=\"figcaption\"\n\t\t\t\tclassName={ clsx(\n\t\t\t\t\t'blocks-gallery-caption',\n\t\t\t\t\t__experimentalGetElementClassName( 'caption' )\n\t\t\t\t) }\n\t\t\t\taria-label={ __( 'Gallery caption text' ) }\n\t\t\t\tplaceholder={ __( 'Write gallery captionâ€¦' ) }\n\t\t\t\tvalue={ caption }\n\t\t\t\tonChange={ ( value ) => setAttributes( { caption: value } ) }\n\t\t\t\tinlineToolbar\n\t\t\t\t__unstableOnSplitAtEnd={ () =>\n\t\t\t\t\tinsertBlocksAfter( createBlock( getDefaultBlockName() ) )\n\t\t\t\t}\n\t\t\t/>\n\t\t</figure>\n\t);\n};\n\nfunction RichTextVisibilityHelper( { isHidden, ...richTextProps } ) {\n\treturn isHidden ? (\n\t\t<VisuallyHidden as={ RichText } { ...richTextProps } />\n\t) : (\n\t\t<RichText { ...richTextProps } />\n\t);\n}\n\nexport default Gallery;\n"],"mappings":"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","ignoreList":[]}
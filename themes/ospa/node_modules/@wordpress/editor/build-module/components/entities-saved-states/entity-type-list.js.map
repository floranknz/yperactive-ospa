{"version":3,"names":["__","useSelect","PanelBody","PanelRow","store","coreStore","privateApis","blockEditorPrivateApis","useContext","EntityRecordItem","unlock","getGlobalStylesChanges","GlobalStylesContext","getEntityDescription","entity","count","GlobalStylesDescription","record","user","currentEditorGlobalStyles","savedRecord","select","getEntityRecord","kind","name","key","globalStylesChanges","maxResults","length","createElement","className","map","change","EntityDescription","description","EntityTypeList","list","unselectedEntities","setUnselectedEntities","firstRecord","entityConfig","getEntityConfig","entityLabel","label","title","initialOpen","property","checked","some","elt","onChange","value"],"sources":["@wordpress/editor/src/components/entities-saved-states/entity-type-list.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useSelect } from '@wordpress/data';\nimport { PanelBody, PanelRow } from '@wordpress/components';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { privateApis as blockEditorPrivateApis } from '@wordpress/block-editor';\nimport { useContext } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport EntityRecordItem from './entity-record-item';\nimport { unlock } from '../../lock-unlock';\n\nconst { getGlobalStylesChanges, GlobalStylesContext } = unlock(\n\tblockEditorPrivateApis\n);\n\nfunction getEntityDescription( entity, count ) {\n\tswitch ( entity ) {\n\t\tcase 'site':\n\t\t\treturn 1 === count\n\t\t\t\t? __( 'This change will affect your whole site.' )\n\t\t\t\t: __( 'These changes will affect your whole site.' );\n\t\tcase 'wp_template':\n\t\t\treturn __(\n\t\t\t\t'This change will affect pages and posts that use this template.'\n\t\t\t);\n\t\tcase 'page':\n\t\tcase 'post':\n\t\t\treturn __( 'The following has been modified.' );\n\t}\n}\n\nfunction GlobalStylesDescription( { record } ) {\n\tconst { user: currentEditorGlobalStyles } =\n\t\tuseContext( GlobalStylesContext );\n\tconst savedRecord = useSelect(\n\t\t( select ) =>\n\t\t\tselect( coreStore ).getEntityRecord(\n\t\t\t\trecord.kind,\n\t\t\t\trecord.name,\n\t\t\t\trecord.key\n\t\t\t),\n\t\t[ record.kind, record.name, record.key ]\n\t);\n\n\tconst globalStylesChanges = getGlobalStylesChanges(\n\t\tcurrentEditorGlobalStyles,\n\t\tsavedRecord,\n\t\t{\n\t\t\tmaxResults: 10,\n\t\t}\n\t);\n\treturn globalStylesChanges.length ? (\n\t\t<ul className=\"entities-saved-states__changes\">\n\t\t\t{ globalStylesChanges.map( ( change ) => (\n\t\t\t\t<li key={ change }>{ change }</li>\n\t\t\t) ) }\n\t\t</ul>\n\t) : null;\n}\n\nfunction EntityDescription( { record, count } ) {\n\tif ( 'globalStyles' === record?.name ) {\n\t\treturn null;\n\t}\n\tconst description = getEntityDescription( record?.name, count );\n\treturn description ? <PanelRow>{ description }</PanelRow> : null;\n}\n\nexport default function EntityTypeList( {\n\tlist,\n\tunselectedEntities,\n\tsetUnselectedEntities,\n} ) {\n\tconst count = list.length;\n\tconst firstRecord = list[ 0 ];\n\tconst entityConfig = useSelect(\n\t\t( select ) =>\n\t\t\tselect( coreStore ).getEntityConfig(\n\t\t\t\tfirstRecord.kind,\n\t\t\t\tfirstRecord.name\n\t\t\t),\n\t\t[ firstRecord.kind, firstRecord.name ]\n\t);\n\n\tlet entityLabel = entityConfig.label;\n\tif ( firstRecord?.name === 'wp_template_part' ) {\n\t\tentityLabel =\n\t\t\t1 === count ? __( 'Template Part' ) : __( 'Template Parts' );\n\t}\n\n\treturn (\n\t\t<PanelBody title={ entityLabel } initialOpen>\n\t\t\t<EntityDescription record={ firstRecord } count={ count } />\n\t\t\t{ list.map( ( record ) => {\n\t\t\t\treturn (\n\t\t\t\t\t<EntityRecordItem\n\t\t\t\t\t\tkey={ record.key || record.property }\n\t\t\t\t\t\trecord={ record }\n\t\t\t\t\t\tchecked={\n\t\t\t\t\t\t\t! unselectedEntities.some(\n\t\t\t\t\t\t\t\t( elt ) =>\n\t\t\t\t\t\t\t\t\telt.kind === record.kind &&\n\t\t\t\t\t\t\t\t\telt.name === record.name &&\n\t\t\t\t\t\t\t\t\telt.key === record.key &&\n\t\t\t\t\t\t\t\t\telt.property === record.property\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\tsetUnselectedEntities( record, value )\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t} ) }\n\t\t\t{ 'globalStyles' === firstRecord?.name && (\n\t\t\t\t<GlobalStylesDescription record={ firstRecord } />\n\t\t\t) }\n\t\t</PanelBody>\n\t);\n}\n"],"mappings":"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","ignoreList":[]}
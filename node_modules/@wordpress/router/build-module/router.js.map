{"version":3,"names":["createContext","useState","useEffect","useContext","history","RoutesContext","HistoryContext","useLocation","useHistory","getLocationWithParams","location","searchParams","URLSearchParams","search","params","Object","fromEntries","entries","RouterProvider","children","setLocation","listen","updatedLocation","createElement","Provider","value"],"sources":["@wordpress/router/src/router.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport {\n\tcreateContext,\n\tuseState,\n\tuseEffect,\n\tuseContext,\n} from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport history from './history';\n\nconst RoutesContext = createContext();\nconst HistoryContext = createContext();\n\nexport function useLocation() {\n\treturn useContext( RoutesContext );\n}\n\nexport function useHistory() {\n\treturn useContext( HistoryContext );\n}\n\nfunction getLocationWithParams( location ) {\n\tconst searchParams = new URLSearchParams( location.search );\n\treturn {\n\t\t...location,\n\t\tparams: Object.fromEntries( searchParams.entries() ),\n\t};\n}\n\nexport function RouterProvider( { children } ) {\n\tconst [ location, setLocation ] = useState( () =>\n\t\tgetLocationWithParams( history.location )\n\t);\n\n\tuseEffect( () => {\n\t\treturn history.listen( ( { location: updatedLocation } ) => {\n\t\t\tsetLocation( getLocationWithParams( updatedLocation ) );\n\t\t} );\n\t}, [] );\n\n\treturn (\n\t\t<HistoryContext.Provider value={ history }>\n\t\t\t<RoutesContext.Provider value={ location }>\n\t\t\t\t{ children }\n\t\t\t</RoutesContext.Provider>\n\t\t</HistoryContext.Provider>\n\t);\n}\n"],"mappings":";AAAA;AACA;AACA;AACA,SACCA,aAAa,EACbC,QAAQ,EACRC,SAAS,EACTC,UAAU,QACJ,oBAAoB;;AAE3B;AACA;AACA;AACA,OAAOC,OAAO,MAAM,WAAW;AAE/B,MAAMC,aAAa,GAAGL,aAAa,CAAC,CAAC;AACrC,MAAMM,cAAc,GAAGN,aAAa,CAAC,CAAC;AAEtC,OAAO,SAASO,WAAWA,CAAA,EAAG;EAC7B,OAAOJ,UAAU,CAAEE,aAAc,CAAC;AACnC;AAEA,OAAO,SAASG,UAAUA,CAAA,EAAG;EAC5B,OAAOL,UAAU,CAAEG,cAAe,CAAC;AACpC;AAEA,SAASG,qBAAqBA,CAAEC,QAAQ,EAAG;EAC1C,MAAMC,YAAY,GAAG,IAAIC,eAAe,CAAEF,QAAQ,CAACG,MAAO,CAAC;EAC3D,OAAO;IACN,GAAGH,QAAQ;IACXI,MAAM,EAAEC,MAAM,CAACC,WAAW,CAAEL,YAAY,CAACM,OAAO,CAAC,CAAE;EACpD,CAAC;AACF;AAEA,OAAO,SAASC,cAAcA,CAAE;EAAEC;AAAS,CAAC,EAAG;EAC9C,MAAM,CAAET,QAAQ,EAAEU,WAAW,CAAE,GAAGnB,QAAQ,CAAE,MAC3CQ,qBAAqB,CAAEL,OAAO,CAACM,QAAS,CACzC,CAAC;EAEDR,SAAS,CAAE,MAAM;IAChB,OAAOE,OAAO,CAACiB,MAAM,CAAE,CAAE;MAAEX,QAAQ,EAAEY;IAAgB,CAAC,KAAM;MAC3DF,WAAW,CAAEX,qBAAqB,CAAEa,eAAgB,CAAE,CAAC;IACxD,CAAE,CAAC;EACJ,CAAC,EAAE,EAAG,CAAC;EAEP,OACCC,aAAA,CAACjB,cAAc,CAACkB,QAAQ;IAACC,KAAK,EAAGrB;EAAS,GACzCmB,aAAA,CAAClB,aAAa,CAACmB,QAAQ;IAACC,KAAK,EAAGf;EAAU,GACvCS,QACqB,CACA,CAAC;AAE5B","ignoreList":[]}
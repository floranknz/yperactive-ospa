{"version":3,"names":["_clsx","_interopRequireDefault","require","_editor","_data","_blockEditor","_components","_compose","_plugins","_i18n","_element","_keyboardShortcuts","_notices","_preferences","_commands","_coreCommands","_blockLibrary","_url","_textEditor","_visualEditor","_keyboardShortcuts2","_initPatternModal","_browserUrl","_header","_metaBoxes","_welcomeGuide","_store","_lockUnlock","_useCommonCommands","getLayoutStyles","unlock","blockEditorPrivateApis","useCommands","coreCommandsPrivateApis","useCommandContext","commandsPrivateApis","InserterSidebar","ListViewSidebar","ComplementaryArea","FullscreenMode","SavePublishPanels","InterfaceSkeleton","interfaceStore","Sidebar","editorPrivateApis","BlockKeyboardShortcuts","blockLibraryPrivateApis","interfaceLabels","header","__","body","sidebar","actions","footer","useEditorStyles","hasThemeStyleSupport","editorSettings","useSelect","select","editPostStore","isFeatureActive","editorStore","getEditorSettings","useMemo","_editorSettings$style","_editorSettings$style2","presetStyles","styles","filter","style","__unstableType","defaultEditorStyles","hasThemeStyles","length","disableLayoutStyles","push","css","selector","hasBlockGapSupport","hasFallbackGapSupport","fallbackGapValue","Layout","initialPost","useCommonCommands","isMobileViewport","useViewportMatch","isWideViewport","isLargeViewport","closeGeneralSidebar","useDispatch","createErrorNotice","noticesStore","mode","isFullscreenActive","isRichEditingEnabled","sidebarIsOpened","hasActiveMetaboxes","previousShortcut","nextShortcut","hasBlockSelected","isInserterOpened","isListViewOpened","showIconLabels","isDistractionFree","showBlockBreadcrumbs","showMetaBoxes","documentLabel","hasHistory","hasBlockBreadcrumbs","blockEditorMode","isEditingTemplate","get","preferencesStore","getPostTypeLabel","postTypeLabel","getRenderingMode","getActiveComplementaryArea","isPublishSidebarOpened","getEditorMode","richEditingEnabled","hasMetaBoxes","keyboardShortcutsStore","getAllShortcutKeyCombinations","_x","blockEditorStore","getBlockSelectionStart","onNavigateToPreviousEntityRecord","__unstableGetEditorMode","getCurrentPostType","commandContext","entitiesSavedStatesCallback","setEntitiesSavedStatesCallback","useState","closeEntitiesSavedStates","useCallback","arg","document","classList","add","remove","className","clsx","secondarySidebarLabel","secondarySidebar","_react","createElement","isRightSidebarOpen","onPluginAreaError","name","sprintf","createSuccessNotice","onActionPerformed","actionId","items","location","href","addQueryArgs","trashed","post_type","type","ids","id","newItem","title","rendered","label","onClick","postId","post","action","Fragment","isActive","default","UnsavedChangesWarning","AutosaveMonitor","LocalAutosaveMonitor","EditorKeyboardShortcutsRegister","EditorKeyboardShortcuts","labels","editorNotices","EditorNotices","Slot","scope","notices","EditorSnackbars","content","BlockToolbar","hideDragHandle","ScrollLock","BlockBreadcrumb","rootLabelText","isEntitiesSavedStatesOpen","forceIsDirtyPublishPanel","shortcuts","previous","next","PluginArea","onError","extraPanels","_default","exports"],"sources":["@wordpress/edit-post/src/components/layout/index.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tAutosaveMonitor,\n\tLocalAutosaveMonitor,\n\tUnsavedChangesWarning,\n\tEditorNotices,\n\tEditorKeyboardShortcutsRegister,\n\tEditorKeyboardShortcuts,\n\tEditorSnackbars,\n\tstore as editorStore,\n\tprivateApis as editorPrivateApis,\n} from '@wordpress/editor';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport {\n\tBlockBreadcrumb,\n\tBlockToolbar,\n\tprivateApis as blockEditorPrivateApis,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport { ScrollLock } from '@wordpress/components';\nimport { useViewportMatch } from '@wordpress/compose';\nimport { PluginArea } from '@wordpress/plugins';\nimport { __, _x, sprintf } from '@wordpress/i18n';\nimport { useState, useCallback, useMemo } from '@wordpress/element';\nimport { store as keyboardShortcutsStore } from '@wordpress/keyboard-shortcuts';\nimport { store as noticesStore } from '@wordpress/notices';\nimport { store as preferencesStore } from '@wordpress/preferences';\nimport { privateApis as commandsPrivateApis } from '@wordpress/commands';\nimport { privateApis as coreCommandsPrivateApis } from '@wordpress/core-commands';\nimport { privateApis as blockLibraryPrivateApis } from '@wordpress/block-library';\nimport { addQueryArgs } from '@wordpress/url';\n\n/**\n * Internal dependencies\n */\nimport TextEditor from '../text-editor';\nimport VisualEditor from '../visual-editor';\nimport EditPostKeyboardShortcuts from '../keyboard-shortcuts';\nimport InitPatternModal from '../init-pattern-modal';\nimport BrowserURL from '../browser-url';\nimport Header from '../header';\nimport MetaBoxes from '../meta-boxes';\nimport WelcomeGuide from '../welcome-guide';\nimport { store as editPostStore } from '../../store';\nimport { unlock } from '../../lock-unlock';\nimport useCommonCommands from '../../hooks/commands/use-common-commands';\n\nconst { getLayoutStyles } = unlock( blockEditorPrivateApis );\nconst { useCommands } = unlock( coreCommandsPrivateApis );\nconst { useCommandContext } = unlock( commandsPrivateApis );\nconst {\n\tInserterSidebar,\n\tListViewSidebar,\n\tComplementaryArea,\n\tFullscreenMode,\n\tSavePublishPanels,\n\tInterfaceSkeleton,\n\tinterfaceStore,\n\tSidebar,\n} = unlock( editorPrivateApis );\nconst { BlockKeyboardShortcuts } = unlock( blockLibraryPrivateApis );\n\nconst interfaceLabels = {\n\t/* translators: accessibility text for the editor top bar landmark region. */\n\theader: __( 'Editor top bar' ),\n\t/* translators: accessibility text for the editor content landmark region. */\n\tbody: __( 'Editor content' ),\n\t/* translators: accessibility text for the editor settings landmark region. */\n\tsidebar: __( 'Editor settings' ),\n\t/* translators: accessibility text for the editor publish landmark region. */\n\tactions: __( 'Editor publish' ),\n\t/* translators: accessibility text for the editor footer landmark region. */\n\tfooter: __( 'Editor footer' ),\n};\n\nfunction useEditorStyles() {\n\tconst { hasThemeStyleSupport, editorSettings } = useSelect(\n\t\t( select ) => ( {\n\t\t\thasThemeStyleSupport:\n\t\t\t\tselect( editPostStore ).isFeatureActive( 'themeStyles' ),\n\t\t\teditorSettings: select( editorStore ).getEditorSettings(),\n\t\t} ),\n\t\t[]\n\t);\n\n\t// Compute the default styles.\n\treturn useMemo( () => {\n\t\tconst presetStyles =\n\t\t\teditorSettings.styles?.filter(\n\t\t\t\t( style ) =>\n\t\t\t\t\tstyle.__unstableType && style.__unstableType !== 'theme'\n\t\t\t) ?? [];\n\n\t\tconst defaultEditorStyles = [\n\t\t\t...editorSettings.defaultEditorStyles,\n\t\t\t...presetStyles,\n\t\t];\n\n\t\t// Has theme styles if the theme supports them and if some styles were not preset styles (in which case they're theme styles).\n\t\tconst hasThemeStyles =\n\t\t\thasThemeStyleSupport &&\n\t\t\tpresetStyles.length !== ( editorSettings.styles?.length ?? 0 );\n\n\t\t// If theme styles are not present or displayed, ensure that\n\t\t// base layout styles are still present in the editor.\n\t\tif ( ! editorSettings.disableLayoutStyles && ! hasThemeStyles ) {\n\t\t\tdefaultEditorStyles.push( {\n\t\t\t\tcss: getLayoutStyles( {\n\t\t\t\t\tstyle: {},\n\t\t\t\t\tselector: 'body',\n\t\t\t\t\thasBlockGapSupport: false,\n\t\t\t\t\thasFallbackGapSupport: true,\n\t\t\t\t\tfallbackGapValue: '0.5em',\n\t\t\t\t} ),\n\t\t\t} );\n\t\t}\n\n\t\treturn hasThemeStyles ? editorSettings.styles : defaultEditorStyles;\n\t}, [\n\t\teditorSettings.defaultEditorStyles,\n\t\teditorSettings.disableLayoutStyles,\n\t\teditorSettings.styles,\n\t\thasThemeStyleSupport,\n\t] );\n}\n\nfunction Layout( { initialPost } ) {\n\tuseCommands();\n\tuseCommonCommands();\n\n\tconst isMobileViewport = useViewportMatch( 'medium', '<' );\n\tconst isWideViewport = useViewportMatch( 'large' );\n\tconst isLargeViewport = useViewportMatch( 'medium' );\n\n\tconst { closeGeneralSidebar } = useDispatch( editPostStore );\n\tconst { createErrorNotice } = useDispatch( noticesStore );\n\tconst {\n\t\tmode,\n\t\tisFullscreenActive,\n\t\tisRichEditingEnabled,\n\t\tsidebarIsOpened,\n\t\thasActiveMetaboxes,\n\t\tpreviousShortcut,\n\t\tnextShortcut,\n\t\thasBlockSelected,\n\t\tisInserterOpened,\n\t\tisListViewOpened,\n\t\tshowIconLabels,\n\t\tisDistractionFree,\n\t\tshowBlockBreadcrumbs,\n\t\tshowMetaBoxes,\n\t\tdocumentLabel,\n\t\thasHistory,\n\t\thasBlockBreadcrumbs,\n\t\tblockEditorMode,\n\t\tisEditingTemplate,\n\t} = useSelect( ( select ) => {\n\t\tconst { get } = select( preferencesStore );\n\t\tconst { getEditorSettings, getPostTypeLabel } = select( editorStore );\n\t\tconst editorSettings = getEditorSettings();\n\t\tconst postTypeLabel = getPostTypeLabel();\n\n\t\treturn {\n\t\t\tshowMetaBoxes:\n\t\t\t\tselect( editorStore ).getRenderingMode() === 'post-only',\n\t\t\tsidebarIsOpened: !! (\n\t\t\t\tselect( interfaceStore ).getActiveComplementaryArea( 'core' ) ||\n\t\t\t\tselect( editorStore ).isPublishSidebarOpened()\n\t\t\t),\n\t\t\tisFullscreenActive:\n\t\t\t\tselect( editPostStore ).isFeatureActive( 'fullscreenMode' ),\n\t\t\tisInserterOpened: select( editorStore ).isInserterOpened(),\n\t\t\tisListViewOpened: select( editorStore ).isListViewOpened(),\n\t\t\tmode: select( editorStore ).getEditorMode(),\n\t\t\tisRichEditingEnabled: editorSettings.richEditingEnabled,\n\t\t\thasActiveMetaboxes: select( editPostStore ).hasMetaBoxes(),\n\t\t\tpreviousShortcut: select(\n\t\t\t\tkeyboardShortcutsStore\n\t\t\t).getAllShortcutKeyCombinations( 'core/editor/previous-region' ),\n\t\t\tnextShortcut: select(\n\t\t\t\tkeyboardShortcutsStore\n\t\t\t).getAllShortcutKeyCombinations( 'core/editor/next-region' ),\n\t\t\tshowIconLabels: get( 'core', 'showIconLabels' ),\n\t\t\tisDistractionFree: get( 'core', 'distractionFree' ),\n\t\t\tshowBlockBreadcrumbs: get( 'core', 'showBlockBreadcrumbs' ),\n\t\t\t// translators: Default label for the Document in the Block Breadcrumb.\n\t\t\tdocumentLabel: postTypeLabel || _x( 'Document', 'noun' ),\n\t\t\thasBlockSelected:\n\t\t\t\t!! select( blockEditorStore ).getBlockSelectionStart(),\n\t\t\thasHistory: !! getEditorSettings().onNavigateToPreviousEntityRecord,\n\t\t\thasBlockBreadcrumbs: get( 'core', 'showBlockBreadcrumbs' ),\n\t\t\tblockEditorMode:\n\t\t\t\tselect( blockEditorStore ).__unstableGetEditorMode(),\n\t\t\tisEditingTemplate:\n\t\t\t\tselect( editorStore ).getCurrentPostType() === 'wp_template',\n\t\t};\n\t}, [] );\n\n\t// Set the right context for the command palette\n\tconst commandContext = hasBlockSelected\n\t\t? 'block-selection-edit'\n\t\t: 'post-editor-edit';\n\tuseCommandContext( commandContext );\n\n\tconst styles = useEditorStyles();\n\n\t// Local state for save panel.\n\t// Note 'truthy' callback implies an open panel.\n\tconst [ entitiesSavedStatesCallback, setEntitiesSavedStatesCallback ] =\n\t\tuseState( false );\n\n\tconst closeEntitiesSavedStates = useCallback(\n\t\t( arg ) => {\n\t\t\tif ( typeof entitiesSavedStatesCallback === 'function' ) {\n\t\t\t\tentitiesSavedStatesCallback( arg );\n\t\t\t}\n\t\t\tsetEntitiesSavedStatesCallback( false );\n\t\t},\n\t\t[ entitiesSavedStatesCallback ]\n\t);\n\n\t// We need to add the show-icon-labels class to the body element so it is applied to modals.\n\tif ( showIconLabels ) {\n\t\tdocument.body.classList.add( 'show-icon-labels' );\n\t} else {\n\t\tdocument.body.classList.remove( 'show-icon-labels' );\n\t}\n\n\tconst className = clsx( 'edit-post-layout', 'is-mode-' + mode, {\n\t\t'is-sidebar-opened': sidebarIsOpened,\n\t\t'has-metaboxes': hasActiveMetaboxes,\n\t\t'is-distraction-free': isDistractionFree && isWideViewport,\n\t\t'is-entity-save-view-open': !! entitiesSavedStatesCallback,\n\t\t'has-block-breadcrumbs':\n\t\t\thasBlockBreadcrumbs && ! isDistractionFree && isWideViewport,\n\t} );\n\n\tconst secondarySidebarLabel = isListViewOpened\n\t\t? __( 'Document Overview' )\n\t\t: __( 'Block Library' );\n\n\tconst secondarySidebar = () => {\n\t\tif ( mode === 'visual' && isInserterOpened ) {\n\t\t\treturn (\n\t\t\t\t<InserterSidebar\n\t\t\t\t\tcloseGeneralSidebar={ closeGeneralSidebar }\n\t\t\t\t\tisRightSidebarOpen={ sidebarIsOpened }\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t\tif ( mode === 'visual' && isListViewOpened ) {\n\t\t\treturn <ListViewSidebar />;\n\t\t}\n\n\t\treturn null;\n\t};\n\n\tfunction onPluginAreaError( name ) {\n\t\tcreateErrorNotice(\n\t\t\tsprintf(\n\t\t\t\t/* translators: %s: plugin name */\n\t\t\t\t__(\n\t\t\t\t\t'The \"%s\" plugin has encountered an error and cannot be rendered.'\n\t\t\t\t),\n\t\t\t\tname\n\t\t\t)\n\t\t);\n\t}\n\n\tconst { createSuccessNotice } = useDispatch( noticesStore );\n\n\tconst onActionPerformed = useCallback(\n\t\t( actionId, items ) => {\n\t\t\tswitch ( actionId ) {\n\t\t\t\tcase 'move-to-trash':\n\t\t\t\t\t{\n\t\t\t\t\t\tdocument.location.href = addQueryArgs( 'edit.php', {\n\t\t\t\t\t\t\ttrashed: 1,\n\t\t\t\t\t\t\tpost_type: items[ 0 ].type,\n\t\t\t\t\t\t\tids: items[ 0 ].id,\n\t\t\t\t\t\t} );\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'duplicate-post':\n\t\t\t\t\t{\n\t\t\t\t\t\tconst newItem = items[ 0 ];\n\t\t\t\t\t\tconst title =\n\t\t\t\t\t\t\ttypeof newItem.title === 'string'\n\t\t\t\t\t\t\t\t? newItem.title\n\t\t\t\t\t\t\t\t: newItem.title?.rendered;\n\t\t\t\t\t\tcreateSuccessNotice(\n\t\t\t\t\t\t\tsprintf(\n\t\t\t\t\t\t\t\t// translators: %s: Title of the created post e.g: \"Post 1\".\n\t\t\t\t\t\t\t\t__( '\"%s\" successfully created.' ),\n\t\t\t\t\t\t\t\ttitle\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t\t\t\t\tid: 'duplicate-post-action',\n\t\t\t\t\t\t\t\tactions: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tlabel: __( 'Edit' ),\n\t\t\t\t\t\t\t\t\t\tonClick: () => {\n\t\t\t\t\t\t\t\t\t\t\tconst postId = newItem.id;\n\t\t\t\t\t\t\t\t\t\t\tdocument.location.href =\n\t\t\t\t\t\t\t\t\t\t\t\taddQueryArgs( 'post.php', {\n\t\t\t\t\t\t\t\t\t\t\t\t\tpost: postId,\n\t\t\t\t\t\t\t\t\t\t\t\t\taction: 'edit',\n\t\t\t\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\t\t[ createSuccessNotice ]\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t<FullscreenMode isActive={ isFullscreenActive } />\n\t\t\t<BrowserURL hasHistory={ hasHistory } />\n\t\t\t<UnsavedChangesWarning />\n\t\t\t<AutosaveMonitor />\n\t\t\t<LocalAutosaveMonitor />\n\t\t\t<EditPostKeyboardShortcuts />\n\t\t\t<EditorKeyboardShortcutsRegister />\n\t\t\t<EditorKeyboardShortcuts />\n\t\t\t<BlockKeyboardShortcuts />\n\n\t\t\t<InterfaceSkeleton\n\t\t\t\tisDistractionFree={ isDistractionFree && isWideViewport }\n\t\t\t\tclassName={ className }\n\t\t\t\tlabels={ {\n\t\t\t\t\t...interfaceLabels,\n\t\t\t\t\tsecondarySidebar: secondarySidebarLabel,\n\t\t\t\t} }\n\t\t\t\theader={\n\t\t\t\t\t<Header\n\t\t\t\t\t\tsetEntitiesSavedStatesCallback={\n\t\t\t\t\t\t\tsetEntitiesSavedStatesCallback\n\t\t\t\t\t\t}\n\t\t\t\t\t\tinitialPost={ initialPost }\n\t\t\t\t\t/>\n\t\t\t\t}\n\t\t\t\teditorNotices={ <EditorNotices /> }\n\t\t\t\tsecondarySidebar={ secondarySidebar() }\n\t\t\t\tsidebar={\n\t\t\t\t\t! isDistractionFree && (\n\t\t\t\t\t\t<ComplementaryArea.Slot scope=\"core\" />\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t\tnotices={ <EditorSnackbars /> }\n\t\t\t\tcontent={\n\t\t\t\t\t<>\n\t\t\t\t\t\t{ ! isDistractionFree && <EditorNotices /> }\n\t\t\t\t\t\t{ ( mode === 'text' || ! isRichEditingEnabled ) && (\n\t\t\t\t\t\t\t<TextEditor />\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t{ ! isLargeViewport && <BlockToolbar hideDragHandle /> }\n\t\t\t\t\t\t{ isRichEditingEnabled && mode === 'visual' && (\n\t\t\t\t\t\t\t<VisualEditor styles={ styles } />\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t{ ! isDistractionFree && showMetaBoxes && (\n\t\t\t\t\t\t\t<div className=\"edit-post-layout__metaboxes\">\n\t\t\t\t\t\t\t\t<MetaBoxes location=\"normal\" />\n\t\t\t\t\t\t\t\t<MetaBoxes location=\"advanced\" />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t{ isMobileViewport && sidebarIsOpened && (\n\t\t\t\t\t\t\t<ScrollLock />\n\t\t\t\t\t\t) }\n\t\t\t\t\t</>\n\t\t\t\t}\n\t\t\t\tfooter={\n\t\t\t\t\t! isDistractionFree &&\n\t\t\t\t\t! isMobileViewport &&\n\t\t\t\t\tshowBlockBreadcrumbs &&\n\t\t\t\t\tisRichEditingEnabled &&\n\t\t\t\t\tblockEditorMode !== 'zoom-out' &&\n\t\t\t\t\tmode === 'visual' && (\n\t\t\t\t\t\t<div className=\"edit-post-layout__footer\">\n\t\t\t\t\t\t\t<BlockBreadcrumb rootLabelText={ documentLabel } />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t\tactions={\n\t\t\t\t\t<SavePublishPanels\n\t\t\t\t\t\tcloseEntitiesSavedStates={ closeEntitiesSavedStates }\n\t\t\t\t\t\tisEntitiesSavedStatesOpen={\n\t\t\t\t\t\t\tentitiesSavedStatesCallback\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsetEntitiesSavedStatesCallback={\n\t\t\t\t\t\t\tsetEntitiesSavedStatesCallback\n\t\t\t\t\t\t}\n\t\t\t\t\t\tforceIsDirtyPublishPanel={ hasActiveMetaboxes }\n\t\t\t\t\t/>\n\t\t\t\t}\n\t\t\t\tshortcuts={ {\n\t\t\t\t\tprevious: previousShortcut,\n\t\t\t\t\tnext: nextShortcut,\n\t\t\t\t} }\n\t\t\t/>\n\t\t\t<WelcomeGuide />\n\t\t\t<InitPatternModal />\n\t\t\t<PluginArea onError={ onPluginAreaError } />\n\t\t\t{ ! isDistractionFree && (\n\t\t\t\t<Sidebar\n\t\t\t\t\tonActionPerformed={ onActionPerformed }\n\t\t\t\t\textraPanels={\n\t\t\t\t\t\t! isEditingTemplate && <MetaBoxes location=\"side\" />\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t) }\n\t\t</>\n\t);\n}\n\nexport default Layout;\n"],"mappings":"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","ignoreList":[]}
{"version":3,"names":["clsx","AutosaveMonitor","LocalAutosaveMonitor","UnsavedChangesWarning","EditorNotices","EditorKeyboardShortcutsRegister","EditorKeyboardShortcuts","EditorSnackbars","store","editorStore","privateApis","editorPrivateApis","useSelect","useDispatch","BlockBreadcrumb","BlockToolbar","blockEditorPrivateApis","blockEditorStore","ScrollLock","useViewportMatch","PluginArea","__","_x","sprintf","useState","useCallback","useMemo","keyboardShortcutsStore","noticesStore","preferencesStore","commandsPrivateApis","coreCommandsPrivateApis","blockLibraryPrivateApis","addQueryArgs","TextEditor","VisualEditor","EditPostKeyboardShortcuts","InitPatternModal","BrowserURL","Header","MetaBoxes","WelcomeGuide","editPostStore","unlock","useCommonCommands","getLayoutStyles","useCommands","useCommandContext","InserterSidebar","ListViewSidebar","ComplementaryArea","FullscreenMode","SavePublishPanels","InterfaceSkeleton","interfaceStore","Sidebar","BlockKeyboardShortcuts","interfaceLabels","header","body","sidebar","actions","footer","useEditorStyles","hasThemeStyleSupport","editorSettings","select","isFeatureActive","getEditorSettings","_editorSettings$style","_editorSettings$style2","presetStyles","styles","filter","style","__unstableType","defaultEditorStyles","hasThemeStyles","length","disableLayoutStyles","push","css","selector","hasBlockGapSupport","hasFallbackGapSupport","fallbackGapValue","Layout","initialPost","isMobileViewport","isWideViewport","isLargeViewport","closeGeneralSidebar","createErrorNotice","mode","isFullscreenActive","isRichEditingEnabled","sidebarIsOpened","hasActiveMetaboxes","previousShortcut","nextShortcut","hasBlockSelected","isInserterOpened","isListViewOpened","showIconLabels","isDistractionFree","showBlockBreadcrumbs","showMetaBoxes","documentLabel","hasHistory","hasBlockBreadcrumbs","blockEditorMode","isEditingTemplate","get","getPostTypeLabel","postTypeLabel","getRenderingMode","getActiveComplementaryArea","isPublishSidebarOpened","getEditorMode","richEditingEnabled","hasMetaBoxes","getAllShortcutKeyCombinations","getBlockSelectionStart","onNavigateToPreviousEntityRecord","__unstableGetEditorMode","getCurrentPostType","commandContext","entitiesSavedStatesCallback","setEntitiesSavedStatesCallback","closeEntitiesSavedStates","arg","document","classList","add","remove","className","secondarySidebarLabel","secondarySidebar","createElement","isRightSidebarOpen","onPluginAreaError","name","createSuccessNotice","onActionPerformed","actionId","items","location","href","trashed","post_type","type","ids","id","newItem","title","rendered","label","onClick","postId","post","action","Fragment","isActive","labels","editorNotices","Slot","scope","notices","content","hideDragHandle","rootLabelText","isEntitiesSavedStatesOpen","forceIsDirtyPublishPanel","shortcuts","previous","next","onError","extraPanels"],"sources":["@wordpress/edit-post/src/components/layout/index.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tAutosaveMonitor,\n\tLocalAutosaveMonitor,\n\tUnsavedChangesWarning,\n\tEditorNotices,\n\tEditorKeyboardShortcutsRegister,\n\tEditorKeyboardShortcuts,\n\tEditorSnackbars,\n\tstore as editorStore,\n\tprivateApis as editorPrivateApis,\n} from '@wordpress/editor';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport {\n\tBlockBreadcrumb,\n\tBlockToolbar,\n\tprivateApis as blockEditorPrivateApis,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport { ScrollLock } from '@wordpress/components';\nimport { useViewportMatch } from '@wordpress/compose';\nimport { PluginArea } from '@wordpress/plugins';\nimport { __, _x, sprintf } from '@wordpress/i18n';\nimport { useState, useCallback, useMemo } from '@wordpress/element';\nimport { store as keyboardShortcutsStore } from '@wordpress/keyboard-shortcuts';\nimport { store as noticesStore } from '@wordpress/notices';\nimport { store as preferencesStore } from '@wordpress/preferences';\nimport { privateApis as commandsPrivateApis } from '@wordpress/commands';\nimport { privateApis as coreCommandsPrivateApis } from '@wordpress/core-commands';\nimport { privateApis as blockLibraryPrivateApis } from '@wordpress/block-library';\nimport { addQueryArgs } from '@wordpress/url';\n\n/**\n * Internal dependencies\n */\nimport TextEditor from '../text-editor';\nimport VisualEditor from '../visual-editor';\nimport EditPostKeyboardShortcuts from '../keyboard-shortcuts';\nimport InitPatternModal from '../init-pattern-modal';\nimport BrowserURL from '../browser-url';\nimport Header from '../header';\nimport MetaBoxes from '../meta-boxes';\nimport WelcomeGuide from '../welcome-guide';\nimport { store as editPostStore } from '../../store';\nimport { unlock } from '../../lock-unlock';\nimport useCommonCommands from '../../hooks/commands/use-common-commands';\n\nconst { getLayoutStyles } = unlock( blockEditorPrivateApis );\nconst { useCommands } = unlock( coreCommandsPrivateApis );\nconst { useCommandContext } = unlock( commandsPrivateApis );\nconst {\n\tInserterSidebar,\n\tListViewSidebar,\n\tComplementaryArea,\n\tFullscreenMode,\n\tSavePublishPanels,\n\tInterfaceSkeleton,\n\tinterfaceStore,\n\tSidebar,\n} = unlock( editorPrivateApis );\nconst { BlockKeyboardShortcuts } = unlock( blockLibraryPrivateApis );\n\nconst interfaceLabels = {\n\t/* translators: accessibility text for the editor top bar landmark region. */\n\theader: __( 'Editor top bar' ),\n\t/* translators: accessibility text for the editor content landmark region. */\n\tbody: __( 'Editor content' ),\n\t/* translators: accessibility text for the editor settings landmark region. */\n\tsidebar: __( 'Editor settings' ),\n\t/* translators: accessibility text for the editor publish landmark region. */\n\tactions: __( 'Editor publish' ),\n\t/* translators: accessibility text for the editor footer landmark region. */\n\tfooter: __( 'Editor footer' ),\n};\n\nfunction useEditorStyles() {\n\tconst { hasThemeStyleSupport, editorSettings } = useSelect(\n\t\t( select ) => ( {\n\t\t\thasThemeStyleSupport:\n\t\t\t\tselect( editPostStore ).isFeatureActive( 'themeStyles' ),\n\t\t\teditorSettings: select( editorStore ).getEditorSettings(),\n\t\t} ),\n\t\t[]\n\t);\n\n\t// Compute the default styles.\n\treturn useMemo( () => {\n\t\tconst presetStyles =\n\t\t\teditorSettings.styles?.filter(\n\t\t\t\t( style ) =>\n\t\t\t\t\tstyle.__unstableType && style.__unstableType !== 'theme'\n\t\t\t) ?? [];\n\n\t\tconst defaultEditorStyles = [\n\t\t\t...editorSettings.defaultEditorStyles,\n\t\t\t...presetStyles,\n\t\t];\n\n\t\t// Has theme styles if the theme supports them and if some styles were not preset styles (in which case they're theme styles).\n\t\tconst hasThemeStyles =\n\t\t\thasThemeStyleSupport &&\n\t\t\tpresetStyles.length !== ( editorSettings.styles?.length ?? 0 );\n\n\t\t// If theme styles are not present or displayed, ensure that\n\t\t// base layout styles are still present in the editor.\n\t\tif ( ! editorSettings.disableLayoutStyles && ! hasThemeStyles ) {\n\t\t\tdefaultEditorStyles.push( {\n\t\t\t\tcss: getLayoutStyles( {\n\t\t\t\t\tstyle: {},\n\t\t\t\t\tselector: 'body',\n\t\t\t\t\thasBlockGapSupport: false,\n\t\t\t\t\thasFallbackGapSupport: true,\n\t\t\t\t\tfallbackGapValue: '0.5em',\n\t\t\t\t} ),\n\t\t\t} );\n\t\t}\n\n\t\treturn hasThemeStyles ? editorSettings.styles : defaultEditorStyles;\n\t}, [\n\t\teditorSettings.defaultEditorStyles,\n\t\teditorSettings.disableLayoutStyles,\n\t\teditorSettings.styles,\n\t\thasThemeStyleSupport,\n\t] );\n}\n\nfunction Layout( { initialPost } ) {\n\tuseCommands();\n\tuseCommonCommands();\n\n\tconst isMobileViewport = useViewportMatch( 'medium', '<' );\n\tconst isWideViewport = useViewportMatch( 'large' );\n\tconst isLargeViewport = useViewportMatch( 'medium' );\n\n\tconst { closeGeneralSidebar } = useDispatch( editPostStore );\n\tconst { createErrorNotice } = useDispatch( noticesStore );\n\tconst {\n\t\tmode,\n\t\tisFullscreenActive,\n\t\tisRichEditingEnabled,\n\t\tsidebarIsOpened,\n\t\thasActiveMetaboxes,\n\t\tpreviousShortcut,\n\t\tnextShortcut,\n\t\thasBlockSelected,\n\t\tisInserterOpened,\n\t\tisListViewOpened,\n\t\tshowIconLabels,\n\t\tisDistractionFree,\n\t\tshowBlockBreadcrumbs,\n\t\tshowMetaBoxes,\n\t\tdocumentLabel,\n\t\thasHistory,\n\t\thasBlockBreadcrumbs,\n\t\tblockEditorMode,\n\t\tisEditingTemplate,\n\t} = useSelect( ( select ) => {\n\t\tconst { get } = select( preferencesStore );\n\t\tconst { getEditorSettings, getPostTypeLabel } = select( editorStore );\n\t\tconst editorSettings = getEditorSettings();\n\t\tconst postTypeLabel = getPostTypeLabel();\n\n\t\treturn {\n\t\t\tshowMetaBoxes:\n\t\t\t\tselect( editorStore ).getRenderingMode() === 'post-only',\n\t\t\tsidebarIsOpened: !! (\n\t\t\t\tselect( interfaceStore ).getActiveComplementaryArea( 'core' ) ||\n\t\t\t\tselect( editorStore ).isPublishSidebarOpened()\n\t\t\t),\n\t\t\tisFullscreenActive:\n\t\t\t\tselect( editPostStore ).isFeatureActive( 'fullscreenMode' ),\n\t\t\tisInserterOpened: select( editorStore ).isInserterOpened(),\n\t\t\tisListViewOpened: select( editorStore ).isListViewOpened(),\n\t\t\tmode: select( editorStore ).getEditorMode(),\n\t\t\tisRichEditingEnabled: editorSettings.richEditingEnabled,\n\t\t\thasActiveMetaboxes: select( editPostStore ).hasMetaBoxes(),\n\t\t\tpreviousShortcut: select(\n\t\t\t\tkeyboardShortcutsStore\n\t\t\t).getAllShortcutKeyCombinations( 'core/editor/previous-region' ),\n\t\t\tnextShortcut: select(\n\t\t\t\tkeyboardShortcutsStore\n\t\t\t).getAllShortcutKeyCombinations( 'core/editor/next-region' ),\n\t\t\tshowIconLabels: get( 'core', 'showIconLabels' ),\n\t\t\tisDistractionFree: get( 'core', 'distractionFree' ),\n\t\t\tshowBlockBreadcrumbs: get( 'core', 'showBlockBreadcrumbs' ),\n\t\t\t// translators: Default label for the Document in the Block Breadcrumb.\n\t\t\tdocumentLabel: postTypeLabel || _x( 'Document', 'noun' ),\n\t\t\thasBlockSelected:\n\t\t\t\t!! select( blockEditorStore ).getBlockSelectionStart(),\n\t\t\thasHistory: !! getEditorSettings().onNavigateToPreviousEntityRecord,\n\t\t\thasBlockBreadcrumbs: get( 'core', 'showBlockBreadcrumbs' ),\n\t\t\tblockEditorMode:\n\t\t\t\tselect( blockEditorStore ).__unstableGetEditorMode(),\n\t\t\tisEditingTemplate:\n\t\t\t\tselect( editorStore ).getCurrentPostType() === 'wp_template',\n\t\t};\n\t}, [] );\n\n\t// Set the right context for the command palette\n\tconst commandContext = hasBlockSelected\n\t\t? 'block-selection-edit'\n\t\t: 'post-editor-edit';\n\tuseCommandContext( commandContext );\n\n\tconst styles = useEditorStyles();\n\n\t// Local state for save panel.\n\t// Note 'truthy' callback implies an open panel.\n\tconst [ entitiesSavedStatesCallback, setEntitiesSavedStatesCallback ] =\n\t\tuseState( false );\n\n\tconst closeEntitiesSavedStates = useCallback(\n\t\t( arg ) => {\n\t\t\tif ( typeof entitiesSavedStatesCallback === 'function' ) {\n\t\t\t\tentitiesSavedStatesCallback( arg );\n\t\t\t}\n\t\t\tsetEntitiesSavedStatesCallback( false );\n\t\t},\n\t\t[ entitiesSavedStatesCallback ]\n\t);\n\n\t// We need to add the show-icon-labels class to the body element so it is applied to modals.\n\tif ( showIconLabels ) {\n\t\tdocument.body.classList.add( 'show-icon-labels' );\n\t} else {\n\t\tdocument.body.classList.remove( 'show-icon-labels' );\n\t}\n\n\tconst className = clsx( 'edit-post-layout', 'is-mode-' + mode, {\n\t\t'is-sidebar-opened': sidebarIsOpened,\n\t\t'has-metaboxes': hasActiveMetaboxes,\n\t\t'is-distraction-free': isDistractionFree && isWideViewport,\n\t\t'is-entity-save-view-open': !! entitiesSavedStatesCallback,\n\t\t'has-block-breadcrumbs':\n\t\t\thasBlockBreadcrumbs && ! isDistractionFree && isWideViewport,\n\t} );\n\n\tconst secondarySidebarLabel = isListViewOpened\n\t\t? __( 'Document Overview' )\n\t\t: __( 'Block Library' );\n\n\tconst secondarySidebar = () => {\n\t\tif ( mode === 'visual' && isInserterOpened ) {\n\t\t\treturn (\n\t\t\t\t<InserterSidebar\n\t\t\t\t\tcloseGeneralSidebar={ closeGeneralSidebar }\n\t\t\t\t\tisRightSidebarOpen={ sidebarIsOpened }\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t\tif ( mode === 'visual' && isListViewOpened ) {\n\t\t\treturn <ListViewSidebar />;\n\t\t}\n\n\t\treturn null;\n\t};\n\n\tfunction onPluginAreaError( name ) {\n\t\tcreateErrorNotice(\n\t\t\tsprintf(\n\t\t\t\t/* translators: %s: plugin name */\n\t\t\t\t__(\n\t\t\t\t\t'The \"%s\" plugin has encountered an error and cannot be rendered.'\n\t\t\t\t),\n\t\t\t\tname\n\t\t\t)\n\t\t);\n\t}\n\n\tconst { createSuccessNotice } = useDispatch( noticesStore );\n\n\tconst onActionPerformed = useCallback(\n\t\t( actionId, items ) => {\n\t\t\tswitch ( actionId ) {\n\t\t\t\tcase 'move-to-trash':\n\t\t\t\t\t{\n\t\t\t\t\t\tdocument.location.href = addQueryArgs( 'edit.php', {\n\t\t\t\t\t\t\ttrashed: 1,\n\t\t\t\t\t\t\tpost_type: items[ 0 ].type,\n\t\t\t\t\t\t\tids: items[ 0 ].id,\n\t\t\t\t\t\t} );\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'duplicate-post':\n\t\t\t\t\t{\n\t\t\t\t\t\tconst newItem = items[ 0 ];\n\t\t\t\t\t\tconst title =\n\t\t\t\t\t\t\ttypeof newItem.title === 'string'\n\t\t\t\t\t\t\t\t? newItem.title\n\t\t\t\t\t\t\t\t: newItem.title?.rendered;\n\t\t\t\t\t\tcreateSuccessNotice(\n\t\t\t\t\t\t\tsprintf(\n\t\t\t\t\t\t\t\t// translators: %s: Title of the created post e.g: \"Post 1\".\n\t\t\t\t\t\t\t\t__( '\"%s\" successfully created.' ),\n\t\t\t\t\t\t\t\ttitle\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t\t\t\t\tid: 'duplicate-post-action',\n\t\t\t\t\t\t\t\tactions: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tlabel: __( 'Edit' ),\n\t\t\t\t\t\t\t\t\t\tonClick: () => {\n\t\t\t\t\t\t\t\t\t\t\tconst postId = newItem.id;\n\t\t\t\t\t\t\t\t\t\t\tdocument.location.href =\n\t\t\t\t\t\t\t\t\t\t\t\taddQueryArgs( 'post.php', {\n\t\t\t\t\t\t\t\t\t\t\t\t\tpost: postId,\n\t\t\t\t\t\t\t\t\t\t\t\t\taction: 'edit',\n\t\t\t\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\t\t[ createSuccessNotice ]\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t<FullscreenMode isActive={ isFullscreenActive } />\n\t\t\t<BrowserURL hasHistory={ hasHistory } />\n\t\t\t<UnsavedChangesWarning />\n\t\t\t<AutosaveMonitor />\n\t\t\t<LocalAutosaveMonitor />\n\t\t\t<EditPostKeyboardShortcuts />\n\t\t\t<EditorKeyboardShortcutsRegister />\n\t\t\t<EditorKeyboardShortcuts />\n\t\t\t<BlockKeyboardShortcuts />\n\n\t\t\t<InterfaceSkeleton\n\t\t\t\tisDistractionFree={ isDistractionFree && isWideViewport }\n\t\t\t\tclassName={ className }\n\t\t\t\tlabels={ {\n\t\t\t\t\t...interfaceLabels,\n\t\t\t\t\tsecondarySidebar: secondarySidebarLabel,\n\t\t\t\t} }\n\t\t\t\theader={\n\t\t\t\t\t<Header\n\t\t\t\t\t\tsetEntitiesSavedStatesCallback={\n\t\t\t\t\t\t\tsetEntitiesSavedStatesCallback\n\t\t\t\t\t\t}\n\t\t\t\t\t\tinitialPost={ initialPost }\n\t\t\t\t\t/>\n\t\t\t\t}\n\t\t\t\teditorNotices={ <EditorNotices /> }\n\t\t\t\tsecondarySidebar={ secondarySidebar() }\n\t\t\t\tsidebar={\n\t\t\t\t\t! isDistractionFree && (\n\t\t\t\t\t\t<ComplementaryArea.Slot scope=\"core\" />\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t\tnotices={ <EditorSnackbars /> }\n\t\t\t\tcontent={\n\t\t\t\t\t<>\n\t\t\t\t\t\t{ ! isDistractionFree && <EditorNotices /> }\n\t\t\t\t\t\t{ ( mode === 'text' || ! isRichEditingEnabled ) && (\n\t\t\t\t\t\t\t<TextEditor />\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t{ ! isLargeViewport && <BlockToolbar hideDragHandle /> }\n\t\t\t\t\t\t{ isRichEditingEnabled && mode === 'visual' && (\n\t\t\t\t\t\t\t<VisualEditor styles={ styles } />\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t{ ! isDistractionFree && showMetaBoxes && (\n\t\t\t\t\t\t\t<div className=\"edit-post-layout__metaboxes\">\n\t\t\t\t\t\t\t\t<MetaBoxes location=\"normal\" />\n\t\t\t\t\t\t\t\t<MetaBoxes location=\"advanced\" />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t{ isMobileViewport && sidebarIsOpened && (\n\t\t\t\t\t\t\t<ScrollLock />\n\t\t\t\t\t\t) }\n\t\t\t\t\t</>\n\t\t\t\t}\n\t\t\t\tfooter={\n\t\t\t\t\t! isDistractionFree &&\n\t\t\t\t\t! isMobileViewport &&\n\t\t\t\t\tshowBlockBreadcrumbs &&\n\t\t\t\t\tisRichEditingEnabled &&\n\t\t\t\t\tblockEditorMode !== 'zoom-out' &&\n\t\t\t\t\tmode === 'visual' && (\n\t\t\t\t\t\t<div className=\"edit-post-layout__footer\">\n\t\t\t\t\t\t\t<BlockBreadcrumb rootLabelText={ documentLabel } />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t\tactions={\n\t\t\t\t\t<SavePublishPanels\n\t\t\t\t\t\tcloseEntitiesSavedStates={ closeEntitiesSavedStates }\n\t\t\t\t\t\tisEntitiesSavedStatesOpen={\n\t\t\t\t\t\t\tentitiesSavedStatesCallback\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsetEntitiesSavedStatesCallback={\n\t\t\t\t\t\t\tsetEntitiesSavedStatesCallback\n\t\t\t\t\t\t}\n\t\t\t\t\t\tforceIsDirtyPublishPanel={ hasActiveMetaboxes }\n\t\t\t\t\t/>\n\t\t\t\t}\n\t\t\t\tshortcuts={ {\n\t\t\t\t\tprevious: previousShortcut,\n\t\t\t\t\tnext: nextShortcut,\n\t\t\t\t} }\n\t\t\t/>\n\t\t\t<WelcomeGuide />\n\t\t\t<InitPatternModal />\n\t\t\t<PluginArea onError={ onPluginAreaError } />\n\t\t\t{ ! isDistractionFree && (\n\t\t\t\t<Sidebar\n\t\t\t\t\tonActionPerformed={ onActionPerformed }\n\t\t\t\t\textraPanels={\n\t\t\t\t\t\t! isEditingTemplate && <MetaBoxes location=\"side\" />\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t) }\n\t\t</>\n\t);\n}\n\nexport default Layout;\n"],"mappings":"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","ignoreList":[]}
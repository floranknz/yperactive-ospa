{"version":3,"names":["clsx","useSelect","Button","Icon","__unstableMotion","motion","__","addQueryArgs","wordpress","store","editorStore","coreStore","useReducedMotion","editPostStore","FullscreenModeClose","showTooltip","icon","href","initialPost","_postType$labels$view","isActive","isRequestingSiteIcon","postType","siteIconUrl","select","getCurrentPostType","isFeatureActive","getEntityRecord","getPostType","isResolving","siteData","undefined","_postType","type","site_icon_url","disableMotion","buttonIcon","createElement","size","effect","expand","scale","transition","duration","img","variants","alt","className","src","classes","buttonHref","post_type","slug","buttonLabel","labels","view_items","div","whileHover","label"],"sources":["@wordpress/edit-post/src/components/header/fullscreen-mode-close/index.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport {\n\tButton,\n\tIcon,\n\t__unstableMotion as motion,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { addQueryArgs } from '@wordpress/url';\nimport { wordpress } from '@wordpress/icons';\nimport { store as editorStore } from '@wordpress/editor';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { useReducedMotion } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport { store as editPostStore } from '../../../store';\n\nfunction FullscreenModeClose( { showTooltip, icon, href, initialPost } ) {\n\tconst { isActive, isRequestingSiteIcon, postType, siteIconUrl } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getCurrentPostType } = select( editorStore );\n\t\t\tconst { isFeatureActive } = select( editPostStore );\n\t\t\tconst { getEntityRecord, getPostType, isResolving } =\n\t\t\t\tselect( coreStore );\n\t\t\tconst siteData =\n\t\t\t\tgetEntityRecord( 'root', '__unstableBase', undefined ) || {};\n\t\t\tconst _postType = initialPost?.type || getCurrentPostType();\n\t\t\treturn {\n\t\t\t\tisActive: isFeatureActive( 'fullscreenMode' ),\n\t\t\t\tisRequestingSiteIcon: isResolving( 'getEntityRecord', [\n\t\t\t\t\t'root',\n\t\t\t\t\t'__unstableBase',\n\t\t\t\t\tundefined,\n\t\t\t\t] ),\n\t\t\t\tpostType: getPostType( _postType ),\n\t\t\t\tsiteIconUrl: siteData.site_icon_url,\n\t\t\t};\n\t\t},\n\t\t[]\n\t);\n\n\tconst disableMotion = useReducedMotion();\n\n\tif ( ! isActive || ! postType ) {\n\t\treturn null;\n\t}\n\n\tlet buttonIcon = <Icon size=\"36px\" icon={ wordpress } />;\n\n\tconst effect = {\n\t\texpand: {\n\t\t\tscale: 1.25,\n\t\t\ttransition: { type: 'tween', duration: '0.3' },\n\t\t},\n\t};\n\n\tif ( siteIconUrl ) {\n\t\tbuttonIcon = (\n\t\t\t<motion.img\n\t\t\t\tvariants={ ! disableMotion && effect }\n\t\t\t\talt={ __( 'Site Icon' ) }\n\t\t\t\tclassName=\"edit-post-fullscreen-mode-close_site-icon\"\n\t\t\t\tsrc={ siteIconUrl }\n\t\t\t/>\n\t\t);\n\t}\n\n\tif ( isRequestingSiteIcon ) {\n\t\tbuttonIcon = null;\n\t}\n\n\t// Override default icon if custom icon is provided via props.\n\tif ( icon ) {\n\t\tbuttonIcon = <Icon size=\"36px\" icon={ icon } />;\n\t}\n\n\tconst classes = clsx( {\n\t\t'edit-post-fullscreen-mode-close': true,\n\t\t'has-icon': siteIconUrl,\n\t} );\n\n\tconst buttonHref =\n\t\thref ??\n\t\taddQueryArgs( 'edit.php', {\n\t\t\tpost_type: postType.slug,\n\t\t} );\n\n\tconst buttonLabel = postType?.labels?.view_items ?? __( 'Back' );\n\n\treturn (\n\t\t<motion.div whileHover=\"expand\">\n\t\t\t<Button\n\t\t\t\tclassName={ classes }\n\t\t\t\thref={ buttonHref }\n\t\t\t\tlabel={ buttonLabel }\n\t\t\t\tshowTooltip={ showTooltip }\n\t\t\t>\n\t\t\t\t{ buttonIcon }\n\t\t\t</Button>\n\t\t</motion.div>\n\t);\n}\n\nexport default FullscreenModeClose;\n"],"mappings":"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","ignoreList":[]}
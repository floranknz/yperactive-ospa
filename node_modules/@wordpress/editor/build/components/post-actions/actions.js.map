{"version":3,"names":["_icons","require","_url","_data","_htmlEntities","_coreData","_i18n","_notices","_element","_components","_constants","_store","_lockUnlock","_isTemplateRevertable","_interopRequireDefault","getItemTitle","item","title","decodeEntities","rendered","trashPostAction","id","label","__","isPrimary","icon","trash","isEligible","status","supportsBulk","hideModalHeader","RenderModal","items","posts","closeModal","onActionStart","onActionPerformed","isBusy","setIsBusy","useState","createSuccessNotice","createErrorNotice","useDispatch","noticesStore","deleteEntityRecord","coreStore","_react","createElement","__experimentalVStack","spacing","__experimentalText","length","sprintf","_n","__experimentalHStack","justify","Button","variant","onClick","disabled","__experimentalIsFocusable","promiseResult","Promise","allSettled","map","post","type","throwOnError","every","successMessage","errorMessage","reason","message","errorMessages","Set","failedPromises","filter","failedPromise","add","size","join","usePermanentlyDeletePostAction","useMemo","callback","force","useRestorePostAction","editEntityRecord","saveEditedEntityRecord","backup","viewPostAction","external","window","open","link","postRevisionsAction","_post$_links$predeces","_post$_links$version","lastRevisionId","_links","revisionsCount","count","href","addQueryArgs","revision","document","location","renamePostAction","originalTitle","setTitle","onRename","event","preventDefault","error","code","onSubmit","TextControl","__nextHasNoMarginBottom","__next40pxDefaultSize","value","onChange","required","duplicatePostAction","_x","isCreatingPage","setIsCreatingPage","saveEntityRecord","createPage","newItem","slug","author","comment_status","content","raw","excerpt","meta","parent","password","template","format","featured_media","menu_order","ping_status","categories","tags","placeholder","resetTemplateAction","isTemplateRevertable","revertTemplate","unlock","editorStore","onConfirm","allowUndo","fallbackErrorMessage","TEMPLATE_POST_TYPE","isTemplateRemovable","source","TEMPLATE_ORIGINS","custom","has_theme_file","deleteTemplateAction","templates","removeTemplates","renameTemplateAction","is_custom","editedTitle","setEditedTitle","__experimentalSaveSpecifiedEntityEdits","saveSpecifiedEntityEdits","onTemplateRename","usePostActions","postType","postTypeObject","useSelect","select","getPostType","permanentlyDeletePostAction","restorePostAction","isTemplateOrTemplatePart","TEMPLATE_PART_POST_TYPE","includes","isPattern","PATTERN_POST_TYPE","isLoaded","actions","viewable","process","env","IS_GUTENBERG_PLUGIN","Boolean","i","existingCallback","_onActionPerformed","_items","ExistingRenderModal","props"],"sources":["@wordpress/editor/src/components/post-actions/actions.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { external, trash, backup } from '@wordpress/icons';\nimport { addQueryArgs } from '@wordpress/url';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { __, _n, sprintf, _x } from '@wordpress/i18n';\nimport { store as noticesStore } from '@wordpress/notices';\nimport { useMemo, useState } from '@wordpress/element';\n\nimport {\n\tButton,\n\tTextControl,\n\t__experimentalText as Text,\n\t__experimentalHStack as HStack,\n\t__experimentalVStack as VStack,\n} from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport {\n\tTEMPLATE_ORIGINS,\n\tTEMPLATE_PART_POST_TYPE,\n\tTEMPLATE_POST_TYPE,\n\tPATTERN_POST_TYPE,\n} from '../../store/constants';\nimport { store as editorStore } from '../../store';\nimport { unlock } from '../../lock-unlock';\nimport isTemplateRevertable from '../../store/utils/is-template-revertable';\n\nfunction getItemTitle( item ) {\n\tif ( typeof item.title === 'string' ) {\n\t\treturn decodeEntities( item.title );\n\t}\n\treturn decodeEntities( item.title?.rendered || '' );\n}\n\nconst trashPostAction = {\n\tid: 'move-to-trash',\n\tlabel: __( 'Move to Trash' ),\n\tisPrimary: true,\n\ticon: trash,\n\tisEligible( { status } ) {\n\t\treturn status !== 'trash';\n\t},\n\tsupportsBulk: true,\n\thideModalHeader: true,\n\tRenderModal: ( {\n\t\titems: posts,\n\t\tcloseModal,\n\t\tonActionStart,\n\t\tonActionPerformed,\n\t} ) => {\n\t\tconst [ isBusy, setIsBusy ] = useState( false );\n\t\tconst { createSuccessNotice, createErrorNotice } =\n\t\t\tuseDispatch( noticesStore );\n\t\tconst { deleteEntityRecord } = useDispatch( coreStore );\n\t\treturn (\n\t\t\t<VStack spacing=\"5\">\n\t\t\t\t<Text>\n\t\t\t\t\t{ posts.length === 1\n\t\t\t\t\t\t? sprintf(\n\t\t\t\t\t\t\t\t// translators: %s: The page's title.\n\t\t\t\t\t\t\t\t__( 'Are you sure you want to delete \"%s\"?' ),\n\t\t\t\t\t\t\t\tgetItemTitle( posts[ 0 ] )\n\t\t\t\t\t\t  )\n\t\t\t\t\t\t: sprintf(\n\t\t\t\t\t\t\t\t// translators: %d: The number of pages (2 or more).\n\t\t\t\t\t\t\t\t_n(\n\t\t\t\t\t\t\t\t\t'Are you sure you want to delete %d page?',\n\t\t\t\t\t\t\t\t\t'Are you sure you want to delete %d pages?',\n\t\t\t\t\t\t\t\t\tposts.length\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\tposts.length\n\t\t\t\t\t\t  ) }\n\t\t\t\t</Text>\n\t\t\t\t<HStack justify=\"right\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\tonClick={ closeModal }\n\t\t\t\t\t\tdisabled={ isBusy }\n\t\t\t\t\t\t__experimentalIsFocusable\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Cancel' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\tonClick={ async () => {\n\t\t\t\t\t\t\tsetIsBusy( true );\n\t\t\t\t\t\t\tif ( onActionStart ) {\n\t\t\t\t\t\t\t\tonActionStart( posts );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tconst promiseResult = await Promise.allSettled(\n\t\t\t\t\t\t\t\tposts.map( ( post ) => {\n\t\t\t\t\t\t\t\t\treturn deleteEntityRecord(\n\t\t\t\t\t\t\t\t\t\t'postType',\n\t\t\t\t\t\t\t\t\t\tpost.type,\n\t\t\t\t\t\t\t\t\t\tpost.id,\n\t\t\t\t\t\t\t\t\t\t{},\n\t\t\t\t\t\t\t\t\t\t{ throwOnError: true }\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t// If all the promises were fulfilled with success.\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tpromiseResult.every(\n\t\t\t\t\t\t\t\t\t( { status } ) => status === 'fulfilled'\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tlet successMessage;\n\t\t\t\t\t\t\t\tif ( promiseResult.length === 1 ) {\n\t\t\t\t\t\t\t\t\tsuccessMessage = sprintf(\n\t\t\t\t\t\t\t\t\t\t/* translators: The posts's title. */\n\t\t\t\t\t\t\t\t\t\t__( '\"%s\" moved to the Trash.' ),\n\t\t\t\t\t\t\t\t\t\tgetItemTitle( posts[ 0 ] )\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t} else if ( posts[ 0 ].type === 'page' ) {\n\t\t\t\t\t\t\t\t\tsuccessMessage = sprintf(\n\t\t\t\t\t\t\t\t\t\t/* translators: The number of pages. */\n\t\t\t\t\t\t\t\t\t\t__( '%s pages moved to the Trash.' ),\n\t\t\t\t\t\t\t\t\t\tposts.length\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tsuccessMessage = sprintf(\n\t\t\t\t\t\t\t\t\t\t/* translators: The number of posts. */\n\t\t\t\t\t\t\t\t\t\t__( '%s posts moved to the Trash.' ),\n\t\t\t\t\t\t\t\t\t\tposts.length\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tcreateSuccessNotice( successMessage, {\n\t\t\t\t\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t\t\t\t\t\tid: 'trash-post-action',\n\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// If there was at lease one failure.\n\t\t\t\t\t\t\t\tlet errorMessage;\n\t\t\t\t\t\t\t\t// If we were trying to move a single post to the trash.\n\t\t\t\t\t\t\t\tif ( promiseResult.length === 1 ) {\n\t\t\t\t\t\t\t\t\tif ( promiseResult[ 0 ].reason?.message ) {\n\t\t\t\t\t\t\t\t\t\terrorMessage =\n\t\t\t\t\t\t\t\t\t\t\tpromiseResult[ 0 ].reason.message;\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\terrorMessage = __(\n\t\t\t\t\t\t\t\t\t\t\t'An error occurred while moving the post to the trash.'\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t// If we were trying to move multiple posts to the trash\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tconst errorMessages = new Set();\n\t\t\t\t\t\t\t\t\tconst failedPromises = promiseResult.filter(\n\t\t\t\t\t\t\t\t\t\t( { status } ) => status === 'rejected'\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\tfor ( const failedPromise of failedPromises ) {\n\t\t\t\t\t\t\t\t\t\tif ( failedPromise.reason?.message ) {\n\t\t\t\t\t\t\t\t\t\t\terrorMessages.add(\n\t\t\t\t\t\t\t\t\t\t\t\tfailedPromise.reason.message\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif ( errorMessages.size === 0 ) {\n\t\t\t\t\t\t\t\t\t\terrorMessage = __(\n\t\t\t\t\t\t\t\t\t\t\t'An error occurred while moving the posts to the trash.'\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t} else if ( errorMessages.size === 1 ) {\n\t\t\t\t\t\t\t\t\t\terrorMessage = sprintf(\n\t\t\t\t\t\t\t\t\t\t\t/* translators: %s: an error message */\n\t\t\t\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t\t\t\t'An error occurred while moving the posts to the trash: %s'\n\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t[ ...errorMessages ][ 0 ]\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\terrorMessage = sprintf(\n\t\t\t\t\t\t\t\t\t\t\t/* translators: %s: a list of comma separated error messages */\n\t\t\t\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t\t\t\t'Some errors occurred while moving the pages to the trash: %s'\n\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t[ ...errorMessages ].join( ',' )\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tcreateErrorNotice( errorMessage, {\n\t\t\t\t\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif ( onActionPerformed ) {\n\t\t\t\t\t\t\t\tonActionPerformed( posts );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tsetIsBusy( false );\n\t\t\t\t\t\t\tcloseModal();\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tisBusy={ isBusy }\n\t\t\t\t\t\tdisabled={ isBusy }\n\t\t\t\t\t\t__experimentalIsFocusable\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Delete' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t</HStack>\n\t\t\t</VStack>\n\t\t);\n\t},\n};\n\nfunction usePermanentlyDeletePostAction() {\n\tconst { createSuccessNotice, createErrorNotice } =\n\t\tuseDispatch( noticesStore );\n\tconst { deleteEntityRecord } = useDispatch( coreStore );\n\n\treturn useMemo(\n\t\t() => ( {\n\t\t\tid: 'permanently-delete',\n\t\t\tlabel: __( 'Permanently delete' ),\n\t\t\tsupportsBulk: true,\n\t\t\tisEligible( { status } ) {\n\t\t\t\treturn status === 'trash';\n\t\t\t},\n\t\t\tasync callback( posts, onActionPerformed ) {\n\t\t\t\tconst promiseResult = await Promise.allSettled(\n\t\t\t\t\tposts.map( ( post ) => {\n\t\t\t\t\t\treturn deleteEntityRecord(\n\t\t\t\t\t\t\t'postType',\n\t\t\t\t\t\t\tpost.type,\n\t\t\t\t\t\t\tpost.id,\n\t\t\t\t\t\t\t{ force: true },\n\t\t\t\t\t\t\t{ throwOnError: true }\n\t\t\t\t\t\t);\n\t\t\t\t\t} )\n\t\t\t\t);\n\t\t\t\t// If all the promises were fulfilled with success.\n\t\t\t\tif (\n\t\t\t\t\tpromiseResult.every(\n\t\t\t\t\t\t( { status } ) => status === 'fulfilled'\n\t\t\t\t\t)\n\t\t\t\t) {\n\t\t\t\t\tlet successMessage;\n\t\t\t\t\tif ( promiseResult.length === 1 ) {\n\t\t\t\t\t\tsuccessMessage = sprintf(\n\t\t\t\t\t\t\t/* translators: The posts's title. */\n\t\t\t\t\t\t\t__( '\"%s\" permanently deleted.' ),\n\t\t\t\t\t\t\tgetItemTitle( posts[ 0 ] )\n\t\t\t\t\t\t);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsuccessMessage = __(\n\t\t\t\t\t\t\t'The posts were permanently deleted.'\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\tcreateSuccessNotice( successMessage, {\n\t\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t\t\tid: 'permanently-delete-post-action',\n\t\t\t\t\t} );\n\t\t\t\t\tif ( onActionPerformed ) {\n\t\t\t\t\t\tonActionPerformed( posts );\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// If there was at lease one failure.\n\t\t\t\t\tlet errorMessage;\n\t\t\t\t\t// If we were trying to permanently delete a single post.\n\t\t\t\t\tif ( promiseResult.length === 1 ) {\n\t\t\t\t\t\tif ( promiseResult[ 0 ].reason?.message ) {\n\t\t\t\t\t\t\terrorMessage = promiseResult[ 0 ].reason.message;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\terrorMessage = __(\n\t\t\t\t\t\t\t\t'An error occurred while permanently deleting the post.'\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// If we were trying to permanently delete multiple posts\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst errorMessages = new Set();\n\t\t\t\t\t\tconst failedPromises = promiseResult.filter(\n\t\t\t\t\t\t\t( { status } ) => status === 'rejected'\n\t\t\t\t\t\t);\n\t\t\t\t\t\tfor ( const failedPromise of failedPromises ) {\n\t\t\t\t\t\t\tif ( failedPromise.reason?.message ) {\n\t\t\t\t\t\t\t\terrorMessages.add(\n\t\t\t\t\t\t\t\t\tfailedPromise.reason.message\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( errorMessages.size === 0 ) {\n\t\t\t\t\t\t\terrorMessage = __(\n\t\t\t\t\t\t\t\t'An error occurred while permanently deleting the posts.'\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} else if ( errorMessages.size === 1 ) {\n\t\t\t\t\t\t\terrorMessage = sprintf(\n\t\t\t\t\t\t\t\t/* translators: %s: an error message */\n\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t'An error occurred while permanently deleting the posts: %s'\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t[ ...errorMessages ][ 0 ]\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\terrorMessage = sprintf(\n\t\t\t\t\t\t\t\t/* translators: %s: a list of comma separated error messages */\n\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t'Some errors occurred while permanently deleting the posts: %s'\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t[ ...errorMessages ].join( ',' )\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tcreateErrorNotice( errorMessage, {\n\t\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t},\n\t\t} ),\n\t\t[ createSuccessNotice, createErrorNotice, deleteEntityRecord ]\n\t);\n}\n\nfunction useRestorePostAction() {\n\tconst { createSuccessNotice, createErrorNotice } =\n\t\tuseDispatch( noticesStore );\n\tconst { editEntityRecord, saveEditedEntityRecord } =\n\t\tuseDispatch( coreStore );\n\n\treturn useMemo(\n\t\t() => ( {\n\t\t\tid: 'restore',\n\t\t\tlabel: __( 'Restore' ),\n\t\t\tisPrimary: true,\n\t\t\ticon: backup,\n\t\t\tsupportsBulk: true,\n\t\t\tisEligible( { status } ) {\n\t\t\t\treturn status === 'trash';\n\t\t\t},\n\t\t\tasync callback( posts, onActionPerformed ) {\n\t\t\t\tawait Promise.allSettled(\n\t\t\t\t\tposts.map( ( post ) => {\n\t\t\t\t\t\treturn editEntityRecord(\n\t\t\t\t\t\t\t'postType',\n\t\t\t\t\t\t\tpost.type,\n\t\t\t\t\t\t\tpost.id,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tstatus: 'draft',\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t} )\n\t\t\t\t);\n\t\t\t\tconst promiseResult = await Promise.allSettled(\n\t\t\t\t\tposts.map( ( post ) => {\n\t\t\t\t\t\treturn saveEditedEntityRecord(\n\t\t\t\t\t\t\t'postType',\n\t\t\t\t\t\t\tpost.type,\n\t\t\t\t\t\t\tpost.id,\n\t\t\t\t\t\t\t{ throwOnError: true }\n\t\t\t\t\t\t);\n\t\t\t\t\t} )\n\t\t\t\t);\n\n\t\t\t\tif (\n\t\t\t\t\tpromiseResult.every(\n\t\t\t\t\t\t( { status } ) => status === 'fulfilled'\n\t\t\t\t\t)\n\t\t\t\t) {\n\t\t\t\t\tlet successMessage;\n\t\t\t\t\tif ( posts.length === 1 ) {\n\t\t\t\t\t\tsuccessMessage = sprintf(\n\t\t\t\t\t\t\t/* translators: The number of posts. */\n\t\t\t\t\t\t\t__( '\"%s\" has been restored.' ),\n\t\t\t\t\t\t\tgetItemTitle( posts[ 0 ] )\n\t\t\t\t\t\t);\n\t\t\t\t\t} else if ( posts[ 0 ].type === 'page' ) {\n\t\t\t\t\t\tsuccessMessage = sprintf(\n\t\t\t\t\t\t\t/* translators: The number of posts. */\n\t\t\t\t\t\t\t__( '%d pages have been restored.' ),\n\t\t\t\t\t\t\tposts.length\n\t\t\t\t\t\t);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsuccessMessage = sprintf(\n\t\t\t\t\t\t\t/* translators: The number of posts. */\n\t\t\t\t\t\t\t__( '%d posts have been restored.' ),\n\t\t\t\t\t\t\tposts.length\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\tcreateSuccessNotice( successMessage, {\n\t\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t\t\tid: 'restore-post-action',\n\t\t\t\t\t} );\n\t\t\t\t\tif ( onActionPerformed ) {\n\t\t\t\t\t\tonActionPerformed( posts );\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// If there was at lease one failure.\n\t\t\t\t\tlet errorMessage;\n\t\t\t\t\t// If we were trying to move a single post to the trash.\n\t\t\t\t\tif ( promiseResult.length === 1 ) {\n\t\t\t\t\t\tif ( promiseResult[ 0 ].reason?.message ) {\n\t\t\t\t\t\t\terrorMessage = promiseResult[ 0 ].reason.message;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\terrorMessage = __(\n\t\t\t\t\t\t\t\t'An error occurred while restoring the post.'\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// If we were trying to move multiple posts to the trash\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst errorMessages = new Set();\n\t\t\t\t\t\tconst failedPromises = promiseResult.filter(\n\t\t\t\t\t\t\t( { status } ) => status === 'rejected'\n\t\t\t\t\t\t);\n\t\t\t\t\t\tfor ( const failedPromise of failedPromises ) {\n\t\t\t\t\t\t\tif ( failedPromise.reason?.message ) {\n\t\t\t\t\t\t\t\terrorMessages.add(\n\t\t\t\t\t\t\t\t\tfailedPromise.reason.message\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( errorMessages.size === 0 ) {\n\t\t\t\t\t\t\terrorMessage = __(\n\t\t\t\t\t\t\t\t'An error occurred while restoring the posts.'\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} else if ( errorMessages.size === 1 ) {\n\t\t\t\t\t\t\terrorMessage = sprintf(\n\t\t\t\t\t\t\t\t/* translators: %s: an error message */\n\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t'An error occurred while restoring the posts: %s'\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t[ ...errorMessages ][ 0 ]\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\terrorMessage = sprintf(\n\t\t\t\t\t\t\t\t/* translators: %s: a list of comma separated error messages */\n\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t'Some errors occurred while restoring the posts: %s'\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t[ ...errorMessages ].join( ',' )\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tcreateErrorNotice( errorMessage, {\n\t\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t},\n\t\t} ),\n\t\t[\n\t\t\tcreateSuccessNotice,\n\t\t\tcreateErrorNotice,\n\t\t\teditEntityRecord,\n\t\t\tsaveEditedEntityRecord,\n\t\t]\n\t);\n}\n\nconst viewPostAction = {\n\tid: 'view-post',\n\tlabel: __( 'View' ),\n\tisPrimary: true,\n\ticon: external,\n\tisEligible( post ) {\n\t\treturn post.status !== 'trash';\n\t},\n\tcallback( posts, onActionPerformed ) {\n\t\tconst post = posts[ 0 ];\n\t\twindow.open( post.link, '_blank' );\n\t\tif ( onActionPerformed ) {\n\t\t\tonActionPerformed( posts );\n\t\t}\n\t},\n};\n\nconst postRevisionsAction = {\n\tid: 'view-post-revisions',\n\tlabel: __( 'View revisions' ),\n\tisPrimary: false,\n\tisEligible: ( post ) => {\n\t\tif ( post.status === 'trash' ) {\n\t\t\treturn false;\n\t\t}\n\t\tconst lastRevisionId =\n\t\t\tpost?._links?.[ 'predecessor-version' ]?.[ 0 ]?.id ?? null;\n\t\tconst revisionsCount =\n\t\t\tpost?._links?.[ 'version-history' ]?.[ 0 ]?.count ?? 0;\n\t\treturn lastRevisionId && revisionsCount > 1;\n\t},\n\tcallback( posts, onActionPerformed ) {\n\t\tconst post = posts[ 0 ];\n\t\tconst href = addQueryArgs( 'revision.php', {\n\t\t\trevision: post?._links?.[ 'predecessor-version' ]?.[ 0 ]?.id,\n\t\t} );\n\t\tdocument.location.href = href;\n\t\tif ( onActionPerformed ) {\n\t\t\tonActionPerformed( posts );\n\t\t}\n\t},\n};\n\nconst renamePostAction = {\n\tid: 'rename-post',\n\tlabel: __( 'Rename' ),\n\tisEligible( post ) {\n\t\treturn post.status !== 'trash';\n\t},\n\tRenderModal: ( { items, closeModal, onActionPerformed } ) => {\n\t\tconst [ item ] = items;\n\t\tconst originalTitle = decodeEntities(\n\t\t\ttypeof item.title === 'string' ? item.title : item.title.rendered\n\t\t);\n\t\tconst [ title, setTitle ] = useState( () => originalTitle );\n\t\tconst { editEntityRecord, saveEditedEntityRecord } =\n\t\t\tuseDispatch( coreStore );\n\t\tconst { createSuccessNotice, createErrorNotice } =\n\t\t\tuseDispatch( noticesStore );\n\n\t\tasync function onRename( event ) {\n\t\t\tevent.preventDefault();\n\t\t\ttry {\n\t\t\t\tawait editEntityRecord( 'postType', item.type, item.id, {\n\t\t\t\t\ttitle,\n\t\t\t\t} );\n\t\t\t\t// Update state before saving rerenders the list.\n\t\t\t\tsetTitle( '' );\n\t\t\t\tcloseModal();\n\t\t\t\t// Persist edited entity.\n\t\t\t\tawait saveEditedEntityRecord( 'postType', item.type, item.id, {\n\t\t\t\t\tthrowOnError: true,\n\t\t\t\t} );\n\t\t\t\tcreateSuccessNotice( __( 'Name updated' ), {\n\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t} );\n\t\t\t\tonActionPerformed?.( items );\n\t\t\t} catch ( error ) {\n\t\t\t\tconst errorMessage =\n\t\t\t\t\terror.message && error.code !== 'unknown_error'\n\t\t\t\t\t\t? error.message\n\t\t\t\t\t\t: __( 'An error occurred while updating the name' );\n\t\t\t\tcreateErrorNotice( errorMessage, { type: 'snackbar' } );\n\t\t\t}\n\t\t}\n\n\t\treturn (\n\t\t\t<form onSubmit={ onRename }>\n\t\t\t\t<VStack spacing=\"5\">\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tlabel={ __( 'Name' ) }\n\t\t\t\t\t\tvalue={ title }\n\t\t\t\t\t\tonChange={ setTitle }\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t\t<HStack justify=\"right\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\tcloseModal();\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Cancel' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Save' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</HStack>\n\t\t\t\t</VStack>\n\t\t\t</form>\n\t\t);\n\t},\n};\n\nconst duplicatePostAction = {\n\tid: 'duplicate-post',\n\tlabel: _x( 'Duplicate', 'action label' ),\n\tisEligible( { status } ) {\n\t\treturn status !== 'trash';\n\t},\n\tRenderModal: ( { items, closeModal, onActionPerformed } ) => {\n\t\tconst [ item ] = items;\n\t\tconst [ isCreatingPage, setIsCreatingPage ] = useState( false );\n\t\tconst [ title, setTitle ] = useState(\n\t\t\tsprintf(\n\t\t\t\t/* translators: %s: Existing item title */\n\t\t\t\t__( '%s (Copy)' ),\n\t\t\t\tgetItemTitle( item )\n\t\t\t)\n\t\t);\n\n\t\tconst { saveEntityRecord } = useDispatch( coreStore );\n\t\tconst { createSuccessNotice, createErrorNotice } =\n\t\t\tuseDispatch( noticesStore );\n\n\t\tasync function createPage( event ) {\n\t\t\tevent.preventDefault();\n\n\t\t\tif ( isCreatingPage ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tsetIsCreatingPage( true );\n\t\t\ttry {\n\t\t\t\tconst newItem = await saveEntityRecord(\n\t\t\t\t\t'postType',\n\t\t\t\t\titem.type,\n\t\t\t\t\t{\n\t\t\t\t\t\tstatus: 'draft',\n\t\t\t\t\t\ttitle,\n\t\t\t\t\t\tslug: title || __( 'No title' ),\n\t\t\t\t\t\tauthor: item.author,\n\t\t\t\t\t\tcomment_status: item.comment_status,\n\t\t\t\t\t\tcontent:\n\t\t\t\t\t\t\ttypeof item.content === 'string'\n\t\t\t\t\t\t\t\t? item.content\n\t\t\t\t\t\t\t\t: item.content.raw,\n\t\t\t\t\t\texcerpt: item.excerpt.raw,\n\t\t\t\t\t\tmeta: item.meta,\n\t\t\t\t\t\tparent: item.parent,\n\t\t\t\t\t\tpassword: item.password,\n\t\t\t\t\t\ttemplate: item.template,\n\t\t\t\t\t\tformat: item.format,\n\t\t\t\t\t\tfeatured_media: item.featured_media,\n\t\t\t\t\t\tmenu_order: item.menu_order,\n\t\t\t\t\t\tping_status: item.ping_status,\n\t\t\t\t\t\tcategories: item.categories,\n\t\t\t\t\t\ttags: item.tags,\n\t\t\t\t\t},\n\t\t\t\t\t{ throwOnError: true }\n\t\t\t\t);\n\n\t\t\t\tcreateSuccessNotice(\n\t\t\t\t\tsprintf(\n\t\t\t\t\t\t// translators: %s: Title of the created template e.g: \"Category\".\n\t\t\t\t\t\t__( '\"%s\" successfully created.' ),\n\t\t\t\t\t\tnewItem.title?.rendered || title\n\t\t\t\t\t),\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'duplicate-post-action',\n\t\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t\tif ( onActionPerformed ) {\n\t\t\t\t\tonActionPerformed( [ newItem ] );\n\t\t\t\t}\n\t\t\t} catch ( error ) {\n\t\t\t\tconst errorMessage =\n\t\t\t\t\terror.message && error.code !== 'unknown_error'\n\t\t\t\t\t\t? error.message\n\t\t\t\t\t\t: __( 'An error occurred while duplicating the page.' );\n\n\t\t\t\tcreateErrorNotice( errorMessage, {\n\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t} );\n\t\t\t} finally {\n\t\t\t\tsetIsCreatingPage( false );\n\t\t\t\tcloseModal();\n\t\t\t}\n\t\t}\n\t\treturn (\n\t\t\t<form onSubmit={ createPage }>\n\t\t\t\t<VStack spacing={ 3 }>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\tlabel={ __( 'Title' ) }\n\t\t\t\t\t\tonChange={ setTitle }\n\t\t\t\t\t\tplaceholder={ __( 'No title' ) }\n\t\t\t\t\t\tvalue={ title }\n\t\t\t\t\t/>\n\t\t\t\t\t<HStack spacing={ 2 } justify=\"end\">\n\t\t\t\t\t\t<Button variant=\"tertiary\" onClick={ closeModal }>\n\t\t\t\t\t\t\t{ __( 'Cancel' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\tisBusy={ isCreatingPage }\n\t\t\t\t\t\t\taria-disabled={ isCreatingPage }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ _x( 'Duplicate', 'action label' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</HStack>\n\t\t\t\t</VStack>\n\t\t\t</form>\n\t\t);\n\t},\n};\n\nconst resetTemplateAction = {\n\tid: 'reset-template',\n\tlabel: __( 'Reset' ),\n\tisEligible: isTemplateRevertable,\n\ticon: backup,\n\tsupportsBulk: true,\n\thideModalHeader: true,\n\tRenderModal: ( {\n\t\titems,\n\t\tcloseModal,\n\t\tonActionStart,\n\t\tonActionPerformed,\n\t} ) => {\n\t\tconst [ isBusy, setIsBusy ] = useState( false );\n\t\tconst { revertTemplate } = unlock( useDispatch( editorStore ) );\n\t\tconst { saveEditedEntityRecord } = useDispatch( coreStore );\n\t\tconst { createSuccessNotice, createErrorNotice } =\n\t\t\tuseDispatch( noticesStore );\n\t\tconst onConfirm = async () => {\n\t\t\ttry {\n\t\t\t\tfor ( const template of items ) {\n\t\t\t\t\tawait revertTemplate( template, {\n\t\t\t\t\t\tallowUndo: false,\n\t\t\t\t\t} );\n\t\t\t\t\tawait saveEditedEntityRecord(\n\t\t\t\t\t\t'postType',\n\t\t\t\t\t\ttemplate.type,\n\t\t\t\t\t\ttemplate.id\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tcreateSuccessNotice(\n\t\t\t\t\titems.length > 1\n\t\t\t\t\t\t? sprintf(\n\t\t\t\t\t\t\t\t/* translators: The number of items. */\n\t\t\t\t\t\t\t\t__( '%s items reset.' ),\n\t\t\t\t\t\t\t\titems.length\n\t\t\t\t\t\t  )\n\t\t\t\t\t\t: sprintf(\n\t\t\t\t\t\t\t\t/* translators: The template/part's name. */\n\t\t\t\t\t\t\t\t__( '\"%s\" reset.' ),\n\t\t\t\t\t\t\t\tdecodeEntities( items[ 0 ].title.rendered )\n\t\t\t\t\t\t  ),\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t\t\tid: 'revert-template-action',\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t} catch ( error ) {\n\t\t\t\tlet fallbackErrorMessage;\n\t\t\t\tif ( items[ 0 ].type === TEMPLATE_POST_TYPE ) {\n\t\t\t\t\tfallbackErrorMessage =\n\t\t\t\t\t\titems.length === 1\n\t\t\t\t\t\t\t? __(\n\t\t\t\t\t\t\t\t\t'An error occurred while reverting the template.'\n\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t: __(\n\t\t\t\t\t\t\t\t\t'An error occurred while reverting the templates.'\n\t\t\t\t\t\t\t  );\n\t\t\t\t} else {\n\t\t\t\t\tfallbackErrorMessage =\n\t\t\t\t\t\titems.length === 1\n\t\t\t\t\t\t\t? __(\n\t\t\t\t\t\t\t\t\t'An error occurred while reverting the template part.'\n\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t: __(\n\t\t\t\t\t\t\t\t\t'An error occurred while reverting the template parts.'\n\t\t\t\t\t\t\t  );\n\t\t\t\t}\n\t\t\t\tconst errorMessage =\n\t\t\t\t\terror.message && error.code !== 'unknown_error'\n\t\t\t\t\t\t? error.message\n\t\t\t\t\t\t: fallbackErrorMessage;\n\n\t\t\t\tcreateErrorNotice( errorMessage, { type: 'snackbar' } );\n\t\t\t}\n\t\t};\n\t\treturn (\n\t\t\t<VStack spacing=\"5\">\n\t\t\t\t<Text>\n\t\t\t\t\t{ __( 'Reset to default and clear all customizations?' ) }\n\t\t\t\t</Text>\n\t\t\t\t<HStack justify=\"right\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\tonClick={ closeModal }\n\t\t\t\t\t\tdisabled={ isBusy }\n\t\t\t\t\t\t__experimentalIsFocusable\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Cancel' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\tonClick={ async () => {\n\t\t\t\t\t\t\tsetIsBusy( true );\n\t\t\t\t\t\t\tif ( onActionStart ) {\n\t\t\t\t\t\t\t\tonActionStart( items );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tawait onConfirm( items );\n\t\t\t\t\t\t\tonActionPerformed?.( items );\n\t\t\t\t\t\t\tcloseModal();\n\t\t\t\t\t\t\tisBusy( false );\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tisBusy={ isBusy }\n\t\t\t\t\t\tdisabled={ isBusy }\n\t\t\t\t\t\t__experimentalIsFocusable\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Reset' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t</HStack>\n\t\t\t</VStack>\n\t\t);\n\t},\n};\n\n/**\n * Check if a template is removable.\n * Copy from packages/edit-site/src/utils/is-template-removable.js.\n *\n * @param {Object} template The template entity to check.\n * @return {boolean} Whether the template is revertable.\n */\nfunction isTemplateRemovable( template ) {\n\tif ( ! template ) {\n\t\treturn false;\n\t}\n\n\treturn (\n\t\ttemplate.source === TEMPLATE_ORIGINS.custom && ! template.has_theme_file\n\t);\n}\n\nconst deleteTemplateAction = {\n\tid: 'delete-template',\n\tlabel: __( 'Delete' ),\n\tisEligible: isTemplateRemovable,\n\ticon: trash,\n\tsupportsBulk: true,\n\thideModalHeader: true,\n\tRenderModal: ( {\n\t\titems: templates,\n\t\tcloseModal,\n\t\tonActionStart,\n\t\tonActionPerformed,\n\t} ) => {\n\t\tconst [ isBusy, setIsBusy ] = useState( false );\n\t\tconst { removeTemplates } = unlock( useDispatch( editorStore ) );\n\t\treturn (\n\t\t\t<VStack spacing=\"5\">\n\t\t\t\t<Text>\n\t\t\t\t\t{ templates.length > 1\n\t\t\t\t\t\t? sprintf(\n\t\t\t\t\t\t\t\t// translators: %d: number of items to delete.\n\t\t\t\t\t\t\t\t_n(\n\t\t\t\t\t\t\t\t\t'Delete %d item?',\n\t\t\t\t\t\t\t\t\t'Delete %d items?',\n\t\t\t\t\t\t\t\t\ttemplates.length\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\ttemplates.length\n\t\t\t\t\t\t  )\n\t\t\t\t\t\t: sprintf(\n\t\t\t\t\t\t\t\t// translators: %s: The template or template part's titles\n\t\t\t\t\t\t\t\t__( 'Delete \"%s\"?' ),\n\t\t\t\t\t\t\t\tdecodeEntities(\n\t\t\t\t\t\t\t\t\ttemplates?.[ 0 ]?.title?.rendered\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t  ) }\n\t\t\t\t</Text>\n\t\t\t\t<HStack justify=\"right\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\tonClick={ closeModal }\n\t\t\t\t\t\tdisabled={ isBusy }\n\t\t\t\t\t\t__experimentalIsFocusable\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Cancel' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\tonClick={ async () => {\n\t\t\t\t\t\t\tsetIsBusy( true );\n\t\t\t\t\t\t\tif ( onActionStart ) {\n\t\t\t\t\t\t\t\tonActionStart( templates );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tawait removeTemplates( templates, {\n\t\t\t\t\t\t\t\tallowUndo: false,\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\tonActionPerformed?.( templates );\n\t\t\t\t\t\t\tsetIsBusy( false );\n\t\t\t\t\t\t\tcloseModal();\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tisBusy={ isBusy }\n\t\t\t\t\t\tdisabled={ isBusy }\n\t\t\t\t\t\t__experimentalIsFocusable\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Delete' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t</HStack>\n\t\t\t</VStack>\n\t\t);\n\t},\n};\n\nconst renameTemplateAction = {\n\tid: 'rename-template',\n\tlabel: __( 'Rename' ),\n\tisEligible: ( template ) => {\n\t\t// We can only remove templates or template parts that can be removed.\n\t\t// Additionally in the case of templates, we can only remove custom templates.\n\t\tif (\n\t\t\t! isTemplateRemovable( template ) ||\n\t\t\t( template.type === TEMPLATE_POST_TYPE && ! template.is_custom )\n\t\t) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t},\n\tRenderModal: ( { items: templates, closeModal, onActionPerformed } ) => {\n\t\tconst template = templates[ 0 ];\n\t\tconst title = decodeEntities( template.title.rendered );\n\t\tconst [ editedTitle, setEditedTitle ] = useState( title );\n\t\tconst {\n\t\t\teditEntityRecord,\n\t\t\t__experimentalSaveSpecifiedEntityEdits: saveSpecifiedEntityEdits,\n\t\t} = useDispatch( coreStore );\n\t\tconst { createSuccessNotice, createErrorNotice } =\n\t\t\tuseDispatch( noticesStore );\n\t\tasync function onTemplateRename( event ) {\n\t\t\tevent.preventDefault();\n\t\t\ttry {\n\t\t\t\tawait editEntityRecord(\n\t\t\t\t\t'postType',\n\t\t\t\t\ttemplate.type,\n\t\t\t\t\ttemplate.id,\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: editedTitle,\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t\t// Update state before saving rerenders the list.\n\t\t\t\tsetEditedTitle( '' );\n\t\t\t\tcloseModal();\n\t\t\t\t// Persist edited entity.\n\t\t\t\tawait saveSpecifiedEntityEdits(\n\t\t\t\t\t'postType',\n\t\t\t\t\ttemplate.type,\n\t\t\t\t\ttemplate.id,\n\t\t\t\t\t[ 'title' ], // Only save title to avoid persisting other edits.\n\t\t\t\t\t{\n\t\t\t\t\t\tthrowOnError: true,\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t\tcreateSuccessNotice(\n\t\t\t\t\ttemplate.type === TEMPLATE_POST_TYPE\n\t\t\t\t\t\t? __( 'Template renamed.' )\n\t\t\t\t\t\t: __( 'Template part renamed.' ),\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t\tonActionPerformed?.( templates );\n\t\t\t} catch ( error ) {\n\t\t\t\tconst fallbackErrorMessage =\n\t\t\t\t\ttemplate.type === TEMPLATE_POST_TYPE\n\t\t\t\t\t\t? __( 'An error occurred while renaming the template.' )\n\t\t\t\t\t\t: __(\n\t\t\t\t\t\t\t\t'An error occurred while renaming the template part.'\n\t\t\t\t\t\t  );\n\t\t\t\tconst errorMessage =\n\t\t\t\t\terror.message && error.code !== 'unknown_error'\n\t\t\t\t\t\t? error.message\n\t\t\t\t\t\t: fallbackErrorMessage;\n\n\t\t\t\tcreateErrorNotice( errorMessage, { type: 'snackbar' } );\n\t\t\t}\n\t\t}\n\t\treturn (\n\t\t\t<form onSubmit={ onTemplateRename }>\n\t\t\t\t<VStack spacing=\"5\">\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tlabel={ __( 'Name' ) }\n\t\t\t\t\t\tvalue={ editedTitle }\n\t\t\t\t\t\tonChange={ setEditedTitle }\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t\t<HStack justify=\"right\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\t\tonClick={ closeModal }\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Cancel' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Save' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</HStack>\n\t\t\t\t</VStack>\n\t\t\t</form>\n\t\t);\n\t},\n};\n\nexport function usePostActions( postType, onActionPerformed ) {\n\tconst { postTypeObject } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getPostType } = select( coreStore );\n\t\t\treturn {\n\t\t\t\tpostTypeObject: getPostType( postType ),\n\t\t\t};\n\t\t},\n\t\t[ postType ]\n\t);\n\n\tconst permanentlyDeletePostAction = usePermanentlyDeletePostAction();\n\tconst restorePostAction = useRestorePostAction();\n\tconst isTemplateOrTemplatePart = [\n\t\tTEMPLATE_POST_TYPE,\n\t\tTEMPLATE_PART_POST_TYPE,\n\t].includes( postType );\n\tconst isPattern = postType === PATTERN_POST_TYPE;\n\tconst isLoaded = !! postTypeObject;\n\treturn useMemo( () => {\n\t\tif ( ! isLoaded ) {\n\t\t\treturn [];\n\t\t}\n\n\t\tconst actions = [\n\t\t\tisTemplateOrTemplatePart && resetTemplateAction,\n\t\t\tpostTypeObject?.viewable && viewPostAction,\n\t\t\t! isTemplateOrTemplatePart && restorePostAction,\n\t\t\tisTemplateOrTemplatePart && deleteTemplateAction,\n\t\t\t! isTemplateOrTemplatePart && permanentlyDeletePostAction,\n\t\t\tpostRevisionsAction,\n\t\t\tprocess.env.IS_GUTENBERG_PLUGIN\n\t\t\t\t? ! isTemplateOrTemplatePart &&\n\t\t\t\t  ! isPattern &&\n\t\t\t\t  duplicatePostAction\n\t\t\t\t: false,\n\t\t\t! isTemplateOrTemplatePart && renamePostAction,\n\t\t\tisTemplateOrTemplatePart && renameTemplateAction,\n\t\t\t! isTemplateOrTemplatePart && trashPostAction,\n\t\t].filter( Boolean );\n\n\t\tif ( onActionPerformed ) {\n\t\t\tfor ( let i = 0; i < actions.length; ++i ) {\n\t\t\t\tif ( actions[ i ].callback ) {\n\t\t\t\t\tconst existingCallback = actions[ i ].callback;\n\t\t\t\t\tactions[ i ] = {\n\t\t\t\t\t\t...actions[ i ],\n\t\t\t\t\t\tcallback: ( items, _onActionPerformed ) => {\n\t\t\t\t\t\t\texistingCallback( items, ( _items ) => {\n\t\t\t\t\t\t\t\tif ( _onActionPerformed ) {\n\t\t\t\t\t\t\t\t\t_onActionPerformed( _items );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonActionPerformed( actions[ i ].id, _items );\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t},\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tif ( actions[ i ].RenderModal ) {\n\t\t\t\t\tconst ExistingRenderModal = actions[ i ].RenderModal;\n\t\t\t\t\tactions[ i ] = {\n\t\t\t\t\t\t...actions[ i ],\n\t\t\t\t\t\tRenderModal: ( props ) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<ExistingRenderModal\n\t\t\t\t\t\t\t\t\t{ ...props }\n\t\t\t\t\t\t\t\t\tonActionPerformed={ ( _items ) => {\n\t\t\t\t\t\t\t\t\t\tif ( props.onActionPerformed ) {\n\t\t\t\t\t\t\t\t\t\t\tprops.onActionPerformed( _items );\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tonActionPerformed(\n\t\t\t\t\t\t\t\t\t\t\tactions[ i ].id,\n\t\t\t\t\t\t\t\t\t\t\t_items\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t},\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn actions;\n\t}, [\n\t\tisTemplateOrTemplatePart,\n\t\tisPattern,\n\t\tpostTypeObject?.viewable,\n\t\tpermanentlyDeletePostAction,\n\t\trestorePostAction,\n\t\tonActionPerformed,\n\t\tisLoaded,\n\t] );\n}\n"],"mappings":"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","ignoreList":[]}
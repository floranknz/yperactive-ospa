{"version":3,"names":["_element","require","_data","_compose","_blockEditor","_store","withRegistryProvider","createHigherOrderComponent","WrappedComponent","withRegistry","props","useSubRegistry","registry","additionalProps","_react","createElement","subRegistry","setSubRegistry","useState","useEffect","newRegistry","createRegistry","blockEditorStoreConfig","registerStore","storeConfig","RegistryProvider","value","_default","exports","default"],"sources":["@wordpress/editor/src/components/provider/with-registry-provider.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { useState, useEffect } from '@wordpress/element';\nimport {\n\twithRegistry,\n\tcreateRegistry,\n\tRegistryProvider,\n} from '@wordpress/data';\nimport { createHigherOrderComponent } from '@wordpress/compose';\nimport { storeConfig as blockEditorStoreConfig } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport { storeConfig } from '../../store';\n\nconst withRegistryProvider = createHigherOrderComponent(\n\t( WrappedComponent ) =>\n\t\twithRegistry( ( props ) => {\n\t\t\tconst {\n\t\t\t\tuseSubRegistry = true,\n\t\t\t\tregistry,\n\t\t\t\t...additionalProps\n\t\t\t} = props;\n\t\t\tif ( ! useSubRegistry ) {\n\t\t\t\treturn <WrappedComponent { ...additionalProps } />;\n\t\t\t}\n\n\t\t\tconst [ subRegistry, setSubRegistry ] = useState( null );\n\t\t\tuseEffect( () => {\n\t\t\t\tconst newRegistry = createRegistry(\n\t\t\t\t\t{\n\t\t\t\t\t\t'core/block-editor': blockEditorStoreConfig,\n\t\t\t\t\t},\n\t\t\t\t\tregistry\n\t\t\t\t);\n\t\t\t\t// Todo: The interface store should also be created per instance.\n\t\t\t\tnewRegistry.registerStore( 'core/editor', storeConfig );\n\t\t\t\tsetSubRegistry( newRegistry );\n\t\t\t}, [ registry ] );\n\n\t\t\tif ( ! subRegistry ) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<RegistryProvider value={ subRegistry }>\n\t\t\t\t\t<WrappedComponent { ...additionalProps } />\n\t\t\t\t</RegistryProvider>\n\t\t\t);\n\t\t} ),\n\t'withRegistryProvider'\n);\n\nexport default withRegistryProvider;\n"],"mappings":";;;;;;;AAGA,IAAAA,QAAA,GAAAC,OAAA;AACA,IAAAC,KAAA,GAAAD,OAAA;AAKA,IAAAE,QAAA,GAAAF,OAAA;AACA,IAAAG,YAAA,GAAAH,OAAA;AAKA,IAAAI,MAAA,GAAAJ,OAAA;AAfA;AACA;AACA;;AAUA;AACA;AACA;;AAGA,MAAMK,oBAAoB,GAAG,IAAAC,mCAA0B,EACpDC,gBAAgB,IACjB,IAAAC,kBAAY,EAAIC,KAAK,IAAM;EAC1B,MAAM;IACLC,cAAc,GAAG,IAAI;IACrBC,QAAQ;IACR,GAAGC;EACJ,CAAC,GAAGH,KAAK;EACT,IAAK,CAAEC,cAAc,EAAG;IACvB,OAAO,IAAAG,MAAA,CAAAC,aAAA,EAACP,gBAAgB;MAAA,GAAMK;IAAe,CAAI,CAAC;EACnD;EAEA,MAAM,CAAEG,WAAW,EAAEC,cAAc,CAAE,GAAG,IAAAC,iBAAQ,EAAE,IAAK,CAAC;EACxD,IAAAC,kBAAS,EAAE,MAAM;IAChB,MAAMC,WAAW,GAAG,IAAAC,oBAAc,EACjC;MACC,mBAAmB,EAAEC;IACtB,CAAC,EACDV,QACD,CAAC;IACD;IACAQ,WAAW,CAACG,aAAa,CAAE,aAAa,EAAEC,kBAAY,CAAC;IACvDP,cAAc,CAAEG,WAAY,CAAC;EAC9B,CAAC,EAAE,CAAER,QAAQ,CAAG,CAAC;EAEjB,IAAK,CAAEI,WAAW,EAAG;IACpB,OAAO,IAAI;EACZ;EAEA,OACC,IAAAF,MAAA,CAAAC,aAAA,EAACb,KAAA,CAAAuB,gBAAgB;IAACC,KAAK,EAAGV;EAAa,GACtC,IAAAF,MAAA,CAAAC,aAAA,EAACP,gBAAgB;IAAA,GAAMK;EAAe,CAAI,CACzB,CAAC;AAErB,CAAE,CAAC,EACJ,sBACD,CAAC;AAAC,IAAAc,QAAA,GAAAC,OAAA,CAAAC,OAAA,GAEavB,oBAAoB","ignoreList":[]}
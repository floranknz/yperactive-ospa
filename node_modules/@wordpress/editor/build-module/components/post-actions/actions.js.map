{"version":3,"names":["external","trash","backup","addQueryArgs","useDispatch","useSelect","decodeEntities","store","coreStore","__","_n","sprintf","_x","noticesStore","useMemo","useState","Button","TextControl","__experimentalText","Text","__experimentalHStack","HStack","__experimentalVStack","VStack","TEMPLATE_ORIGINS","TEMPLATE_PART_POST_TYPE","TEMPLATE_POST_TYPE","PATTERN_POST_TYPE","editorStore","unlock","isTemplateRevertable","getItemTitle","item","title","rendered","trashPostAction","id","label","isPrimary","icon","isEligible","status","supportsBulk","hideModalHeader","RenderModal","items","posts","closeModal","onActionStart","onActionPerformed","isBusy","setIsBusy","createSuccessNotice","createErrorNotice","deleteEntityRecord","createElement","spacing","length","justify","variant","onClick","disabled","__experimentalIsFocusable","promiseResult","Promise","allSettled","map","post","type","throwOnError","every","successMessage","errorMessage","reason","message","errorMessages","Set","failedPromises","filter","failedPromise","add","size","join","usePermanentlyDeletePostAction","callback","force","useRestorePostAction","editEntityRecord","saveEditedEntityRecord","viewPostAction","window","open","link","postRevisionsAction","_post$_links$predeces","_post$_links$version","lastRevisionId","_links","revisionsCount","count","href","revision","document","location","renamePostAction","originalTitle","setTitle","onRename","event","preventDefault","error","code","onSubmit","__nextHasNoMarginBottom","__next40pxDefaultSize","value","onChange","required","duplicatePostAction","isCreatingPage","setIsCreatingPage","saveEntityRecord","createPage","newItem","slug","author","comment_status","content","raw","excerpt","meta","parent","password","template","format","featured_media","menu_order","ping_status","categories","tags","placeholder","resetTemplateAction","revertTemplate","onConfirm","allowUndo","fallbackErrorMessage","isTemplateRemovable","source","custom","has_theme_file","deleteTemplateAction","templates","removeTemplates","renameTemplateAction","is_custom","editedTitle","setEditedTitle","__experimentalSaveSpecifiedEntityEdits","saveSpecifiedEntityEdits","onTemplateRename","usePostActions","postType","postTypeObject","select","getPostType","permanentlyDeletePostAction","restorePostAction","isTemplateOrTemplatePart","includes","isPattern","isLoaded","actions","viewable","process","env","IS_GUTENBERG_PLUGIN","Boolean","i","existingCallback","_onActionPerformed","_items","ExistingRenderModal","props"],"sources":["@wordpress/editor/src/components/post-actions/actions.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { external, trash, backup } from '@wordpress/icons';\nimport { addQueryArgs } from '@wordpress/url';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { __, _n, sprintf, _x } from '@wordpress/i18n';\nimport { store as noticesStore } from '@wordpress/notices';\nimport { useMemo, useState } from '@wordpress/element';\n\nimport {\n\tButton,\n\tTextControl,\n\t__experimentalText as Text,\n\t__experimentalHStack as HStack,\n\t__experimentalVStack as VStack,\n} from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport {\n\tTEMPLATE_ORIGINS,\n\tTEMPLATE_PART_POST_TYPE,\n\tTEMPLATE_POST_TYPE,\n\tPATTERN_POST_TYPE,\n} from '../../store/constants';\nimport { store as editorStore } from '../../store';\nimport { unlock } from '../../lock-unlock';\nimport isTemplateRevertable from '../../store/utils/is-template-revertable';\n\nfunction getItemTitle( item ) {\n\tif ( typeof item.title === 'string' ) {\n\t\treturn decodeEntities( item.title );\n\t}\n\treturn decodeEntities( item.title?.rendered || '' );\n}\n\nconst trashPostAction = {\n\tid: 'move-to-trash',\n\tlabel: __( 'Move to Trash' ),\n\tisPrimary: true,\n\ticon: trash,\n\tisEligible( { status } ) {\n\t\treturn status !== 'trash';\n\t},\n\tsupportsBulk: true,\n\thideModalHeader: true,\n\tRenderModal: ( {\n\t\titems: posts,\n\t\tcloseModal,\n\t\tonActionStart,\n\t\tonActionPerformed,\n\t} ) => {\n\t\tconst [ isBusy, setIsBusy ] = useState( false );\n\t\tconst { createSuccessNotice, createErrorNotice } =\n\t\t\tuseDispatch( noticesStore );\n\t\tconst { deleteEntityRecord } = useDispatch( coreStore );\n\t\treturn (\n\t\t\t<VStack spacing=\"5\">\n\t\t\t\t<Text>\n\t\t\t\t\t{ posts.length === 1\n\t\t\t\t\t\t? sprintf(\n\t\t\t\t\t\t\t\t// translators: %s: The page's title.\n\t\t\t\t\t\t\t\t__( 'Are you sure you want to delete \"%s\"?' ),\n\t\t\t\t\t\t\t\tgetItemTitle( posts[ 0 ] )\n\t\t\t\t\t\t  )\n\t\t\t\t\t\t: sprintf(\n\t\t\t\t\t\t\t\t// translators: %d: The number of pages (2 or more).\n\t\t\t\t\t\t\t\t_n(\n\t\t\t\t\t\t\t\t\t'Are you sure you want to delete %d page?',\n\t\t\t\t\t\t\t\t\t'Are you sure you want to delete %d pages?',\n\t\t\t\t\t\t\t\t\tposts.length\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\tposts.length\n\t\t\t\t\t\t  ) }\n\t\t\t\t</Text>\n\t\t\t\t<HStack justify=\"right\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\tonClick={ closeModal }\n\t\t\t\t\t\tdisabled={ isBusy }\n\t\t\t\t\t\t__experimentalIsFocusable\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Cancel' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\tonClick={ async () => {\n\t\t\t\t\t\t\tsetIsBusy( true );\n\t\t\t\t\t\t\tif ( onActionStart ) {\n\t\t\t\t\t\t\t\tonActionStart( posts );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tconst promiseResult = await Promise.allSettled(\n\t\t\t\t\t\t\t\tposts.map( ( post ) => {\n\t\t\t\t\t\t\t\t\treturn deleteEntityRecord(\n\t\t\t\t\t\t\t\t\t\t'postType',\n\t\t\t\t\t\t\t\t\t\tpost.type,\n\t\t\t\t\t\t\t\t\t\tpost.id,\n\t\t\t\t\t\t\t\t\t\t{},\n\t\t\t\t\t\t\t\t\t\t{ throwOnError: true }\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t// If all the promises were fulfilled with success.\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tpromiseResult.every(\n\t\t\t\t\t\t\t\t\t( { status } ) => status === 'fulfilled'\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tlet successMessage;\n\t\t\t\t\t\t\t\tif ( promiseResult.length === 1 ) {\n\t\t\t\t\t\t\t\t\tsuccessMessage = sprintf(\n\t\t\t\t\t\t\t\t\t\t/* translators: The posts's title. */\n\t\t\t\t\t\t\t\t\t\t__( '\"%s\" moved to the Trash.' ),\n\t\t\t\t\t\t\t\t\t\tgetItemTitle( posts[ 0 ] )\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t} else if ( posts[ 0 ].type === 'page' ) {\n\t\t\t\t\t\t\t\t\tsuccessMessage = sprintf(\n\t\t\t\t\t\t\t\t\t\t/* translators: The number of pages. */\n\t\t\t\t\t\t\t\t\t\t__( '%s pages moved to the Trash.' ),\n\t\t\t\t\t\t\t\t\t\tposts.length\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tsuccessMessage = sprintf(\n\t\t\t\t\t\t\t\t\t\t/* translators: The number of posts. */\n\t\t\t\t\t\t\t\t\t\t__( '%s posts moved to the Trash.' ),\n\t\t\t\t\t\t\t\t\t\tposts.length\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tcreateSuccessNotice( successMessage, {\n\t\t\t\t\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t\t\t\t\t\tid: 'trash-post-action',\n\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// If there was at lease one failure.\n\t\t\t\t\t\t\t\tlet errorMessage;\n\t\t\t\t\t\t\t\t// If we were trying to move a single post to the trash.\n\t\t\t\t\t\t\t\tif ( promiseResult.length === 1 ) {\n\t\t\t\t\t\t\t\t\tif ( promiseResult[ 0 ].reason?.message ) {\n\t\t\t\t\t\t\t\t\t\terrorMessage =\n\t\t\t\t\t\t\t\t\t\t\tpromiseResult[ 0 ].reason.message;\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\terrorMessage = __(\n\t\t\t\t\t\t\t\t\t\t\t'An error occurred while moving the post to the trash.'\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t// If we were trying to move multiple posts to the trash\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tconst errorMessages = new Set();\n\t\t\t\t\t\t\t\t\tconst failedPromises = promiseResult.filter(\n\t\t\t\t\t\t\t\t\t\t( { status } ) => status === 'rejected'\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\tfor ( const failedPromise of failedPromises ) {\n\t\t\t\t\t\t\t\t\t\tif ( failedPromise.reason?.message ) {\n\t\t\t\t\t\t\t\t\t\t\terrorMessages.add(\n\t\t\t\t\t\t\t\t\t\t\t\tfailedPromise.reason.message\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif ( errorMessages.size === 0 ) {\n\t\t\t\t\t\t\t\t\t\terrorMessage = __(\n\t\t\t\t\t\t\t\t\t\t\t'An error occurred while moving the posts to the trash.'\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t} else if ( errorMessages.size === 1 ) {\n\t\t\t\t\t\t\t\t\t\terrorMessage = sprintf(\n\t\t\t\t\t\t\t\t\t\t\t/* translators: %s: an error message */\n\t\t\t\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t\t\t\t'An error occurred while moving the posts to the trash: %s'\n\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t[ ...errorMessages ][ 0 ]\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\terrorMessage = sprintf(\n\t\t\t\t\t\t\t\t\t\t\t/* translators: %s: a list of comma separated error messages */\n\t\t\t\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t\t\t\t'Some errors occurred while moving the pages to the trash: %s'\n\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t[ ...errorMessages ].join( ',' )\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tcreateErrorNotice( errorMessage, {\n\t\t\t\t\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif ( onActionPerformed ) {\n\t\t\t\t\t\t\t\tonActionPerformed( posts );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tsetIsBusy( false );\n\t\t\t\t\t\t\tcloseModal();\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tisBusy={ isBusy }\n\t\t\t\t\t\tdisabled={ isBusy }\n\t\t\t\t\t\t__experimentalIsFocusable\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Delete' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t</HStack>\n\t\t\t</VStack>\n\t\t);\n\t},\n};\n\nfunction usePermanentlyDeletePostAction() {\n\tconst { createSuccessNotice, createErrorNotice } =\n\t\tuseDispatch( noticesStore );\n\tconst { deleteEntityRecord } = useDispatch( coreStore );\n\n\treturn useMemo(\n\t\t() => ( {\n\t\t\tid: 'permanently-delete',\n\t\t\tlabel: __( 'Permanently delete' ),\n\t\t\tsupportsBulk: true,\n\t\t\tisEligible( { status } ) {\n\t\t\t\treturn status === 'trash';\n\t\t\t},\n\t\t\tasync callback( posts, onActionPerformed ) {\n\t\t\t\tconst promiseResult = await Promise.allSettled(\n\t\t\t\t\tposts.map( ( post ) => {\n\t\t\t\t\t\treturn deleteEntityRecord(\n\t\t\t\t\t\t\t'postType',\n\t\t\t\t\t\t\tpost.type,\n\t\t\t\t\t\t\tpost.id,\n\t\t\t\t\t\t\t{ force: true },\n\t\t\t\t\t\t\t{ throwOnError: true }\n\t\t\t\t\t\t);\n\t\t\t\t\t} )\n\t\t\t\t);\n\t\t\t\t// If all the promises were fulfilled with success.\n\t\t\t\tif (\n\t\t\t\t\tpromiseResult.every(\n\t\t\t\t\t\t( { status } ) => status === 'fulfilled'\n\t\t\t\t\t)\n\t\t\t\t) {\n\t\t\t\t\tlet successMessage;\n\t\t\t\t\tif ( promiseResult.length === 1 ) {\n\t\t\t\t\t\tsuccessMessage = sprintf(\n\t\t\t\t\t\t\t/* translators: The posts's title. */\n\t\t\t\t\t\t\t__( '\"%s\" permanently deleted.' ),\n\t\t\t\t\t\t\tgetItemTitle( posts[ 0 ] )\n\t\t\t\t\t\t);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsuccessMessage = __(\n\t\t\t\t\t\t\t'The posts were permanently deleted.'\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\tcreateSuccessNotice( successMessage, {\n\t\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t\t\tid: 'permanently-delete-post-action',\n\t\t\t\t\t} );\n\t\t\t\t\tif ( onActionPerformed ) {\n\t\t\t\t\t\tonActionPerformed( posts );\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// If there was at lease one failure.\n\t\t\t\t\tlet errorMessage;\n\t\t\t\t\t// If we were trying to permanently delete a single post.\n\t\t\t\t\tif ( promiseResult.length === 1 ) {\n\t\t\t\t\t\tif ( promiseResult[ 0 ].reason?.message ) {\n\t\t\t\t\t\t\terrorMessage = promiseResult[ 0 ].reason.message;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\terrorMessage = __(\n\t\t\t\t\t\t\t\t'An error occurred while permanently deleting the post.'\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// If we were trying to permanently delete multiple posts\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst errorMessages = new Set();\n\t\t\t\t\t\tconst failedPromises = promiseResult.filter(\n\t\t\t\t\t\t\t( { status } ) => status === 'rejected'\n\t\t\t\t\t\t);\n\t\t\t\t\t\tfor ( const failedPromise of failedPromises ) {\n\t\t\t\t\t\t\tif ( failedPromise.reason?.message ) {\n\t\t\t\t\t\t\t\terrorMessages.add(\n\t\t\t\t\t\t\t\t\tfailedPromise.reason.message\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( errorMessages.size === 0 ) {\n\t\t\t\t\t\t\terrorMessage = __(\n\t\t\t\t\t\t\t\t'An error occurred while permanently deleting the posts.'\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} else if ( errorMessages.size === 1 ) {\n\t\t\t\t\t\t\terrorMessage = sprintf(\n\t\t\t\t\t\t\t\t/* translators: %s: an error message */\n\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t'An error occurred while permanently deleting the posts: %s'\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t[ ...errorMessages ][ 0 ]\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\terrorMessage = sprintf(\n\t\t\t\t\t\t\t\t/* translators: %s: a list of comma separated error messages */\n\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t'Some errors occurred while permanently deleting the posts: %s'\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t[ ...errorMessages ].join( ',' )\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tcreateErrorNotice( errorMessage, {\n\t\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t},\n\t\t} ),\n\t\t[ createSuccessNotice, createErrorNotice, deleteEntityRecord ]\n\t);\n}\n\nfunction useRestorePostAction() {\n\tconst { createSuccessNotice, createErrorNotice } =\n\t\tuseDispatch( noticesStore );\n\tconst { editEntityRecord, saveEditedEntityRecord } =\n\t\tuseDispatch( coreStore );\n\n\treturn useMemo(\n\t\t() => ( {\n\t\t\tid: 'restore',\n\t\t\tlabel: __( 'Restore' ),\n\t\t\tisPrimary: true,\n\t\t\ticon: backup,\n\t\t\tsupportsBulk: true,\n\t\t\tisEligible( { status } ) {\n\t\t\t\treturn status === 'trash';\n\t\t\t},\n\t\t\tasync callback( posts, onActionPerformed ) {\n\t\t\t\tawait Promise.allSettled(\n\t\t\t\t\tposts.map( ( post ) => {\n\t\t\t\t\t\treturn editEntityRecord(\n\t\t\t\t\t\t\t'postType',\n\t\t\t\t\t\t\tpost.type,\n\t\t\t\t\t\t\tpost.id,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tstatus: 'draft',\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t} )\n\t\t\t\t);\n\t\t\t\tconst promiseResult = await Promise.allSettled(\n\t\t\t\t\tposts.map( ( post ) => {\n\t\t\t\t\t\treturn saveEditedEntityRecord(\n\t\t\t\t\t\t\t'postType',\n\t\t\t\t\t\t\tpost.type,\n\t\t\t\t\t\t\tpost.id,\n\t\t\t\t\t\t\t{ throwOnError: true }\n\t\t\t\t\t\t);\n\t\t\t\t\t} )\n\t\t\t\t);\n\n\t\t\t\tif (\n\t\t\t\t\tpromiseResult.every(\n\t\t\t\t\t\t( { status } ) => status === 'fulfilled'\n\t\t\t\t\t)\n\t\t\t\t) {\n\t\t\t\t\tlet successMessage;\n\t\t\t\t\tif ( posts.length === 1 ) {\n\t\t\t\t\t\tsuccessMessage = sprintf(\n\t\t\t\t\t\t\t/* translators: The number of posts. */\n\t\t\t\t\t\t\t__( '\"%s\" has been restored.' ),\n\t\t\t\t\t\t\tgetItemTitle( posts[ 0 ] )\n\t\t\t\t\t\t);\n\t\t\t\t\t} else if ( posts[ 0 ].type === 'page' ) {\n\t\t\t\t\t\tsuccessMessage = sprintf(\n\t\t\t\t\t\t\t/* translators: The number of posts. */\n\t\t\t\t\t\t\t__( '%d pages have been restored.' ),\n\t\t\t\t\t\t\tposts.length\n\t\t\t\t\t\t);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsuccessMessage = sprintf(\n\t\t\t\t\t\t\t/* translators: The number of posts. */\n\t\t\t\t\t\t\t__( '%d posts have been restored.' ),\n\t\t\t\t\t\t\tposts.length\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\tcreateSuccessNotice( successMessage, {\n\t\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t\t\tid: 'restore-post-action',\n\t\t\t\t\t} );\n\t\t\t\t\tif ( onActionPerformed ) {\n\t\t\t\t\t\tonActionPerformed( posts );\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// If there was at lease one failure.\n\t\t\t\t\tlet errorMessage;\n\t\t\t\t\t// If we were trying to move a single post to the trash.\n\t\t\t\t\tif ( promiseResult.length === 1 ) {\n\t\t\t\t\t\tif ( promiseResult[ 0 ].reason?.message ) {\n\t\t\t\t\t\t\terrorMessage = promiseResult[ 0 ].reason.message;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\terrorMessage = __(\n\t\t\t\t\t\t\t\t'An error occurred while restoring the post.'\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// If we were trying to move multiple posts to the trash\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst errorMessages = new Set();\n\t\t\t\t\t\tconst failedPromises = promiseResult.filter(\n\t\t\t\t\t\t\t( { status } ) => status === 'rejected'\n\t\t\t\t\t\t);\n\t\t\t\t\t\tfor ( const failedPromise of failedPromises ) {\n\t\t\t\t\t\t\tif ( failedPromise.reason?.message ) {\n\t\t\t\t\t\t\t\terrorMessages.add(\n\t\t\t\t\t\t\t\t\tfailedPromise.reason.message\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( errorMessages.size === 0 ) {\n\t\t\t\t\t\t\terrorMessage = __(\n\t\t\t\t\t\t\t\t'An error occurred while restoring the posts.'\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} else if ( errorMessages.size === 1 ) {\n\t\t\t\t\t\t\terrorMessage = sprintf(\n\t\t\t\t\t\t\t\t/* translators: %s: an error message */\n\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t'An error occurred while restoring the posts: %s'\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t[ ...errorMessages ][ 0 ]\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\terrorMessage = sprintf(\n\t\t\t\t\t\t\t\t/* translators: %s: a list of comma separated error messages */\n\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t'Some errors occurred while restoring the posts: %s'\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t[ ...errorMessages ].join( ',' )\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tcreateErrorNotice( errorMessage, {\n\t\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t},\n\t\t} ),\n\t\t[\n\t\t\tcreateSuccessNotice,\n\t\t\tcreateErrorNotice,\n\t\t\teditEntityRecord,\n\t\t\tsaveEditedEntityRecord,\n\t\t]\n\t);\n}\n\nconst viewPostAction = {\n\tid: 'view-post',\n\tlabel: __( 'View' ),\n\tisPrimary: true,\n\ticon: external,\n\tisEligible( post ) {\n\t\treturn post.status !== 'trash';\n\t},\n\tcallback( posts, onActionPerformed ) {\n\t\tconst post = posts[ 0 ];\n\t\twindow.open( post.link, '_blank' );\n\t\tif ( onActionPerformed ) {\n\t\t\tonActionPerformed( posts );\n\t\t}\n\t},\n};\n\nconst postRevisionsAction = {\n\tid: 'view-post-revisions',\n\tlabel: __( 'View revisions' ),\n\tisPrimary: false,\n\tisEligible: ( post ) => {\n\t\tif ( post.status === 'trash' ) {\n\t\t\treturn false;\n\t\t}\n\t\tconst lastRevisionId =\n\t\t\tpost?._links?.[ 'predecessor-version' ]?.[ 0 ]?.id ?? null;\n\t\tconst revisionsCount =\n\t\t\tpost?._links?.[ 'version-history' ]?.[ 0 ]?.count ?? 0;\n\t\treturn lastRevisionId && revisionsCount > 1;\n\t},\n\tcallback( posts, onActionPerformed ) {\n\t\tconst post = posts[ 0 ];\n\t\tconst href = addQueryArgs( 'revision.php', {\n\t\t\trevision: post?._links?.[ 'predecessor-version' ]?.[ 0 ]?.id,\n\t\t} );\n\t\tdocument.location.href = href;\n\t\tif ( onActionPerformed ) {\n\t\t\tonActionPerformed( posts );\n\t\t}\n\t},\n};\n\nconst renamePostAction = {\n\tid: 'rename-post',\n\tlabel: __( 'Rename' ),\n\tisEligible( post ) {\n\t\treturn post.status !== 'trash';\n\t},\n\tRenderModal: ( { items, closeModal, onActionPerformed } ) => {\n\t\tconst [ item ] = items;\n\t\tconst originalTitle = decodeEntities(\n\t\t\ttypeof item.title === 'string' ? item.title : item.title.rendered\n\t\t);\n\t\tconst [ title, setTitle ] = useState( () => originalTitle );\n\t\tconst { editEntityRecord, saveEditedEntityRecord } =\n\t\t\tuseDispatch( coreStore );\n\t\tconst { createSuccessNotice, createErrorNotice } =\n\t\t\tuseDispatch( noticesStore );\n\n\t\tasync function onRename( event ) {\n\t\t\tevent.preventDefault();\n\t\t\ttry {\n\t\t\t\tawait editEntityRecord( 'postType', item.type, item.id, {\n\t\t\t\t\ttitle,\n\t\t\t\t} );\n\t\t\t\t// Update state before saving rerenders the list.\n\t\t\t\tsetTitle( '' );\n\t\t\t\tcloseModal();\n\t\t\t\t// Persist edited entity.\n\t\t\t\tawait saveEditedEntityRecord( 'postType', item.type, item.id, {\n\t\t\t\t\tthrowOnError: true,\n\t\t\t\t} );\n\t\t\t\tcreateSuccessNotice( __( 'Name updated' ), {\n\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t} );\n\t\t\t\tonActionPerformed?.( items );\n\t\t\t} catch ( error ) {\n\t\t\t\tconst errorMessage =\n\t\t\t\t\terror.message && error.code !== 'unknown_error'\n\t\t\t\t\t\t? error.message\n\t\t\t\t\t\t: __( 'An error occurred while updating the name' );\n\t\t\t\tcreateErrorNotice( errorMessage, { type: 'snackbar' } );\n\t\t\t}\n\t\t}\n\n\t\treturn (\n\t\t\t<form onSubmit={ onRename }>\n\t\t\t\t<VStack spacing=\"5\">\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tlabel={ __( 'Name' ) }\n\t\t\t\t\t\tvalue={ title }\n\t\t\t\t\t\tonChange={ setTitle }\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t\t<HStack justify=\"right\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\tcloseModal();\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Cancel' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Save' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</HStack>\n\t\t\t\t</VStack>\n\t\t\t</form>\n\t\t);\n\t},\n};\n\nconst duplicatePostAction = {\n\tid: 'duplicate-post',\n\tlabel: _x( 'Duplicate', 'action label' ),\n\tisEligible( { status } ) {\n\t\treturn status !== 'trash';\n\t},\n\tRenderModal: ( { items, closeModal, onActionPerformed } ) => {\n\t\tconst [ item ] = items;\n\t\tconst [ isCreatingPage, setIsCreatingPage ] = useState( false );\n\t\tconst [ title, setTitle ] = useState(\n\t\t\tsprintf(\n\t\t\t\t/* translators: %s: Existing item title */\n\t\t\t\t__( '%s (Copy)' ),\n\t\t\t\tgetItemTitle( item )\n\t\t\t)\n\t\t);\n\n\t\tconst { saveEntityRecord } = useDispatch( coreStore );\n\t\tconst { createSuccessNotice, createErrorNotice } =\n\t\t\tuseDispatch( noticesStore );\n\n\t\tasync function createPage( event ) {\n\t\t\tevent.preventDefault();\n\n\t\t\tif ( isCreatingPage ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tsetIsCreatingPage( true );\n\t\t\ttry {\n\t\t\t\tconst newItem = await saveEntityRecord(\n\t\t\t\t\t'postType',\n\t\t\t\t\titem.type,\n\t\t\t\t\t{\n\t\t\t\t\t\tstatus: 'draft',\n\t\t\t\t\t\ttitle,\n\t\t\t\t\t\tslug: title || __( 'No title' ),\n\t\t\t\t\t\tauthor: item.author,\n\t\t\t\t\t\tcomment_status: item.comment_status,\n\t\t\t\t\t\tcontent:\n\t\t\t\t\t\t\ttypeof item.content === 'string'\n\t\t\t\t\t\t\t\t? item.content\n\t\t\t\t\t\t\t\t: item.content.raw,\n\t\t\t\t\t\texcerpt: item.excerpt.raw,\n\t\t\t\t\t\tmeta: item.meta,\n\t\t\t\t\t\tparent: item.parent,\n\t\t\t\t\t\tpassword: item.password,\n\t\t\t\t\t\ttemplate: item.template,\n\t\t\t\t\t\tformat: item.format,\n\t\t\t\t\t\tfeatured_media: item.featured_media,\n\t\t\t\t\t\tmenu_order: item.menu_order,\n\t\t\t\t\t\tping_status: item.ping_status,\n\t\t\t\t\t\tcategories: item.categories,\n\t\t\t\t\t\ttags: item.tags,\n\t\t\t\t\t},\n\t\t\t\t\t{ throwOnError: true }\n\t\t\t\t);\n\n\t\t\t\tcreateSuccessNotice(\n\t\t\t\t\tsprintf(\n\t\t\t\t\t\t// translators: %s: Title of the created template e.g: \"Category\".\n\t\t\t\t\t\t__( '\"%s\" successfully created.' ),\n\t\t\t\t\t\tnewItem.title?.rendered || title\n\t\t\t\t\t),\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'duplicate-post-action',\n\t\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t\tif ( onActionPerformed ) {\n\t\t\t\t\tonActionPerformed( [ newItem ] );\n\t\t\t\t}\n\t\t\t} catch ( error ) {\n\t\t\t\tconst errorMessage =\n\t\t\t\t\terror.message && error.code !== 'unknown_error'\n\t\t\t\t\t\t? error.message\n\t\t\t\t\t\t: __( 'An error occurred while duplicating the page.' );\n\n\t\t\t\tcreateErrorNotice( errorMessage, {\n\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t} );\n\t\t\t} finally {\n\t\t\t\tsetIsCreatingPage( false );\n\t\t\t\tcloseModal();\n\t\t\t}\n\t\t}\n\t\treturn (\n\t\t\t<form onSubmit={ createPage }>\n\t\t\t\t<VStack spacing={ 3 }>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\tlabel={ __( 'Title' ) }\n\t\t\t\t\t\tonChange={ setTitle }\n\t\t\t\t\t\tplaceholder={ __( 'No title' ) }\n\t\t\t\t\t\tvalue={ title }\n\t\t\t\t\t/>\n\t\t\t\t\t<HStack spacing={ 2 } justify=\"end\">\n\t\t\t\t\t\t<Button variant=\"tertiary\" onClick={ closeModal }>\n\t\t\t\t\t\t\t{ __( 'Cancel' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\tisBusy={ isCreatingPage }\n\t\t\t\t\t\t\taria-disabled={ isCreatingPage }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ _x( 'Duplicate', 'action label' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</HStack>\n\t\t\t\t</VStack>\n\t\t\t</form>\n\t\t);\n\t},\n};\n\nconst resetTemplateAction = {\n\tid: 'reset-template',\n\tlabel: __( 'Reset' ),\n\tisEligible: isTemplateRevertable,\n\ticon: backup,\n\tsupportsBulk: true,\n\thideModalHeader: true,\n\tRenderModal: ( {\n\t\titems,\n\t\tcloseModal,\n\t\tonActionStart,\n\t\tonActionPerformed,\n\t} ) => {\n\t\tconst [ isBusy, setIsBusy ] = useState( false );\n\t\tconst { revertTemplate } = unlock( useDispatch( editorStore ) );\n\t\tconst { saveEditedEntityRecord } = useDispatch( coreStore );\n\t\tconst { createSuccessNotice, createErrorNotice } =\n\t\t\tuseDispatch( noticesStore );\n\t\tconst onConfirm = async () => {\n\t\t\ttry {\n\t\t\t\tfor ( const template of items ) {\n\t\t\t\t\tawait revertTemplate( template, {\n\t\t\t\t\t\tallowUndo: false,\n\t\t\t\t\t} );\n\t\t\t\t\tawait saveEditedEntityRecord(\n\t\t\t\t\t\t'postType',\n\t\t\t\t\t\ttemplate.type,\n\t\t\t\t\t\ttemplate.id\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tcreateSuccessNotice(\n\t\t\t\t\titems.length > 1\n\t\t\t\t\t\t? sprintf(\n\t\t\t\t\t\t\t\t/* translators: The number of items. */\n\t\t\t\t\t\t\t\t__( '%s items reset.' ),\n\t\t\t\t\t\t\t\titems.length\n\t\t\t\t\t\t  )\n\t\t\t\t\t\t: sprintf(\n\t\t\t\t\t\t\t\t/* translators: The template/part's name. */\n\t\t\t\t\t\t\t\t__( '\"%s\" reset.' ),\n\t\t\t\t\t\t\t\tdecodeEntities( items[ 0 ].title.rendered )\n\t\t\t\t\t\t  ),\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t\t\tid: 'revert-template-action',\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t} catch ( error ) {\n\t\t\t\tlet fallbackErrorMessage;\n\t\t\t\tif ( items[ 0 ].type === TEMPLATE_POST_TYPE ) {\n\t\t\t\t\tfallbackErrorMessage =\n\t\t\t\t\t\titems.length === 1\n\t\t\t\t\t\t\t? __(\n\t\t\t\t\t\t\t\t\t'An error occurred while reverting the template.'\n\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t: __(\n\t\t\t\t\t\t\t\t\t'An error occurred while reverting the templates.'\n\t\t\t\t\t\t\t  );\n\t\t\t\t} else {\n\t\t\t\t\tfallbackErrorMessage =\n\t\t\t\t\t\titems.length === 1\n\t\t\t\t\t\t\t? __(\n\t\t\t\t\t\t\t\t\t'An error occurred while reverting the template part.'\n\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t: __(\n\t\t\t\t\t\t\t\t\t'An error occurred while reverting the template parts.'\n\t\t\t\t\t\t\t  );\n\t\t\t\t}\n\t\t\t\tconst errorMessage =\n\t\t\t\t\terror.message && error.code !== 'unknown_error'\n\t\t\t\t\t\t? error.message\n\t\t\t\t\t\t: fallbackErrorMessage;\n\n\t\t\t\tcreateErrorNotice( errorMessage, { type: 'snackbar' } );\n\t\t\t}\n\t\t};\n\t\treturn (\n\t\t\t<VStack spacing=\"5\">\n\t\t\t\t<Text>\n\t\t\t\t\t{ __( 'Reset to default and clear all customizations?' ) }\n\t\t\t\t</Text>\n\t\t\t\t<HStack justify=\"right\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\tonClick={ closeModal }\n\t\t\t\t\t\tdisabled={ isBusy }\n\t\t\t\t\t\t__experimentalIsFocusable\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Cancel' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\tonClick={ async () => {\n\t\t\t\t\t\t\tsetIsBusy( true );\n\t\t\t\t\t\t\tif ( onActionStart ) {\n\t\t\t\t\t\t\t\tonActionStart( items );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tawait onConfirm( items );\n\t\t\t\t\t\t\tonActionPerformed?.( items );\n\t\t\t\t\t\t\tcloseModal();\n\t\t\t\t\t\t\tisBusy( false );\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tisBusy={ isBusy }\n\t\t\t\t\t\tdisabled={ isBusy }\n\t\t\t\t\t\t__experimentalIsFocusable\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Reset' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t</HStack>\n\t\t\t</VStack>\n\t\t);\n\t},\n};\n\n/**\n * Check if a template is removable.\n * Copy from packages/edit-site/src/utils/is-template-removable.js.\n *\n * @param {Object} template The template entity to check.\n * @return {boolean} Whether the template is revertable.\n */\nfunction isTemplateRemovable( template ) {\n\tif ( ! template ) {\n\t\treturn false;\n\t}\n\n\treturn (\n\t\ttemplate.source === TEMPLATE_ORIGINS.custom && ! template.has_theme_file\n\t);\n}\n\nconst deleteTemplateAction = {\n\tid: 'delete-template',\n\tlabel: __( 'Delete' ),\n\tisEligible: isTemplateRemovable,\n\ticon: trash,\n\tsupportsBulk: true,\n\thideModalHeader: true,\n\tRenderModal: ( {\n\t\titems: templates,\n\t\tcloseModal,\n\t\tonActionStart,\n\t\tonActionPerformed,\n\t} ) => {\n\t\tconst [ isBusy, setIsBusy ] = useState( false );\n\t\tconst { removeTemplates } = unlock( useDispatch( editorStore ) );\n\t\treturn (\n\t\t\t<VStack spacing=\"5\">\n\t\t\t\t<Text>\n\t\t\t\t\t{ templates.length > 1\n\t\t\t\t\t\t? sprintf(\n\t\t\t\t\t\t\t\t// translators: %d: number of items to delete.\n\t\t\t\t\t\t\t\t_n(\n\t\t\t\t\t\t\t\t\t'Delete %d item?',\n\t\t\t\t\t\t\t\t\t'Delete %d items?',\n\t\t\t\t\t\t\t\t\ttemplates.length\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\ttemplates.length\n\t\t\t\t\t\t  )\n\t\t\t\t\t\t: sprintf(\n\t\t\t\t\t\t\t\t// translators: %s: The template or template part's titles\n\t\t\t\t\t\t\t\t__( 'Delete \"%s\"?' ),\n\t\t\t\t\t\t\t\tdecodeEntities(\n\t\t\t\t\t\t\t\t\ttemplates?.[ 0 ]?.title?.rendered\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t  ) }\n\t\t\t\t</Text>\n\t\t\t\t<HStack justify=\"right\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\tonClick={ closeModal }\n\t\t\t\t\t\tdisabled={ isBusy }\n\t\t\t\t\t\t__experimentalIsFocusable\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Cancel' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\tonClick={ async () => {\n\t\t\t\t\t\t\tsetIsBusy( true );\n\t\t\t\t\t\t\tif ( onActionStart ) {\n\t\t\t\t\t\t\t\tonActionStart( templates );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tawait removeTemplates( templates, {\n\t\t\t\t\t\t\t\tallowUndo: false,\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\tonActionPerformed?.( templates );\n\t\t\t\t\t\t\tsetIsBusy( false );\n\t\t\t\t\t\t\tcloseModal();\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tisBusy={ isBusy }\n\t\t\t\t\t\tdisabled={ isBusy }\n\t\t\t\t\t\t__experimentalIsFocusable\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Delete' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t</HStack>\n\t\t\t</VStack>\n\t\t);\n\t},\n};\n\nconst renameTemplateAction = {\n\tid: 'rename-template',\n\tlabel: __( 'Rename' ),\n\tisEligible: ( template ) => {\n\t\t// We can only remove templates or template parts that can be removed.\n\t\t// Additionally in the case of templates, we can only remove custom templates.\n\t\tif (\n\t\t\t! isTemplateRemovable( template ) ||\n\t\t\t( template.type === TEMPLATE_POST_TYPE && ! template.is_custom )\n\t\t) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t},\n\tRenderModal: ( { items: templates, closeModal, onActionPerformed } ) => {\n\t\tconst template = templates[ 0 ];\n\t\tconst title = decodeEntities( template.title.rendered );\n\t\tconst [ editedTitle, setEditedTitle ] = useState( title );\n\t\tconst {\n\t\t\teditEntityRecord,\n\t\t\t__experimentalSaveSpecifiedEntityEdits: saveSpecifiedEntityEdits,\n\t\t} = useDispatch( coreStore );\n\t\tconst { createSuccessNotice, createErrorNotice } =\n\t\t\tuseDispatch( noticesStore );\n\t\tasync function onTemplateRename( event ) {\n\t\t\tevent.preventDefault();\n\t\t\ttry {\n\t\t\t\tawait editEntityRecord(\n\t\t\t\t\t'postType',\n\t\t\t\t\ttemplate.type,\n\t\t\t\t\ttemplate.id,\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: editedTitle,\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t\t// Update state before saving rerenders the list.\n\t\t\t\tsetEditedTitle( '' );\n\t\t\t\tcloseModal();\n\t\t\t\t// Persist edited entity.\n\t\t\t\tawait saveSpecifiedEntityEdits(\n\t\t\t\t\t'postType',\n\t\t\t\t\ttemplate.type,\n\t\t\t\t\ttemplate.id,\n\t\t\t\t\t[ 'title' ], // Only save title to avoid persisting other edits.\n\t\t\t\t\t{\n\t\t\t\t\t\tthrowOnError: true,\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t\tcreateSuccessNotice(\n\t\t\t\t\ttemplate.type === TEMPLATE_POST_TYPE\n\t\t\t\t\t\t? __( 'Template renamed.' )\n\t\t\t\t\t\t: __( 'Template part renamed.' ),\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t\tonActionPerformed?.( templates );\n\t\t\t} catch ( error ) {\n\t\t\t\tconst fallbackErrorMessage =\n\t\t\t\t\ttemplate.type === TEMPLATE_POST_TYPE\n\t\t\t\t\t\t? __( 'An error occurred while renaming the template.' )\n\t\t\t\t\t\t: __(\n\t\t\t\t\t\t\t\t'An error occurred while renaming the template part.'\n\t\t\t\t\t\t  );\n\t\t\t\tconst errorMessage =\n\t\t\t\t\terror.message && error.code !== 'unknown_error'\n\t\t\t\t\t\t? error.message\n\t\t\t\t\t\t: fallbackErrorMessage;\n\n\t\t\t\tcreateErrorNotice( errorMessage, { type: 'snackbar' } );\n\t\t\t}\n\t\t}\n\t\treturn (\n\t\t\t<form onSubmit={ onTemplateRename }>\n\t\t\t\t<VStack spacing=\"5\">\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tlabel={ __( 'Name' ) }\n\t\t\t\t\t\tvalue={ editedTitle }\n\t\t\t\t\t\tonChange={ setEditedTitle }\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t\t<HStack justify=\"right\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\t\tonClick={ closeModal }\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Cancel' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Save' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</HStack>\n\t\t\t\t</VStack>\n\t\t\t</form>\n\t\t);\n\t},\n};\n\nexport function usePostActions( postType, onActionPerformed ) {\n\tconst { postTypeObject } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getPostType } = select( coreStore );\n\t\t\treturn {\n\t\t\t\tpostTypeObject: getPostType( postType ),\n\t\t\t};\n\t\t},\n\t\t[ postType ]\n\t);\n\n\tconst permanentlyDeletePostAction = usePermanentlyDeletePostAction();\n\tconst restorePostAction = useRestorePostAction();\n\tconst isTemplateOrTemplatePart = [\n\t\tTEMPLATE_POST_TYPE,\n\t\tTEMPLATE_PART_POST_TYPE,\n\t].includes( postType );\n\tconst isPattern = postType === PATTERN_POST_TYPE;\n\tconst isLoaded = !! postTypeObject;\n\treturn useMemo( () => {\n\t\tif ( ! isLoaded ) {\n\t\t\treturn [];\n\t\t}\n\n\t\tconst actions = [\n\t\t\tisTemplateOrTemplatePart && resetTemplateAction,\n\t\t\tpostTypeObject?.viewable && viewPostAction,\n\t\t\t! isTemplateOrTemplatePart && restorePostAction,\n\t\t\tisTemplateOrTemplatePart && deleteTemplateAction,\n\t\t\t! isTemplateOrTemplatePart && permanentlyDeletePostAction,\n\t\t\tpostRevisionsAction,\n\t\t\tprocess.env.IS_GUTENBERG_PLUGIN\n\t\t\t\t? ! isTemplateOrTemplatePart &&\n\t\t\t\t  ! isPattern &&\n\t\t\t\t  duplicatePostAction\n\t\t\t\t: false,\n\t\t\t! isTemplateOrTemplatePart && renamePostAction,\n\t\t\tisTemplateOrTemplatePart && renameTemplateAction,\n\t\t\t! isTemplateOrTemplatePart && trashPostAction,\n\t\t].filter( Boolean );\n\n\t\tif ( onActionPerformed ) {\n\t\t\tfor ( let i = 0; i < actions.length; ++i ) {\n\t\t\t\tif ( actions[ i ].callback ) {\n\t\t\t\t\tconst existingCallback = actions[ i ].callback;\n\t\t\t\t\tactions[ i ] = {\n\t\t\t\t\t\t...actions[ i ],\n\t\t\t\t\t\tcallback: ( items, _onActionPerformed ) => {\n\t\t\t\t\t\t\texistingCallback( items, ( _items ) => {\n\t\t\t\t\t\t\t\tif ( _onActionPerformed ) {\n\t\t\t\t\t\t\t\t\t_onActionPerformed( _items );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonActionPerformed( actions[ i ].id, _items );\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t},\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tif ( actions[ i ].RenderModal ) {\n\t\t\t\t\tconst ExistingRenderModal = actions[ i ].RenderModal;\n\t\t\t\t\tactions[ i ] = {\n\t\t\t\t\t\t...actions[ i ],\n\t\t\t\t\t\tRenderModal: ( props ) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<ExistingRenderModal\n\t\t\t\t\t\t\t\t\t{ ...props }\n\t\t\t\t\t\t\t\t\tonActionPerformed={ ( _items ) => {\n\t\t\t\t\t\t\t\t\t\tif ( props.onActionPerformed ) {\n\t\t\t\t\t\t\t\t\t\t\tprops.onActionPerformed( _items );\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tonActionPerformed(\n\t\t\t\t\t\t\t\t\t\t\tactions[ i ].id,\n\t\t\t\t\t\t\t\t\t\t\t_items\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t},\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn actions;\n\t}, [\n\t\tisTemplateOrTemplatePart,\n\t\tisPattern,\n\t\tpostTypeObject?.viewable,\n\t\tpermanentlyDeletePostAction,\n\t\trestorePostAction,\n\t\tonActionPerformed,\n\t\tisLoaded,\n\t] );\n}\n"],"mappings":"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","ignoreList":[]}
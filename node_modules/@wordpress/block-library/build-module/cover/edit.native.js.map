{"version":3,"names":["View","TouchableWithoutFeedback","InteractionManager","AccessibilityInfo","Text","Platform","Video","clsx","requestImageFailedRetryDialog","requestImageUploadCancelDialog","requestImageFullscreenPreview","mediaUploadSync","__","Icon","Image","ImageEditingButton","IMAGE_DEFAULT_FOCAL_POINT","ToolbarButton","Gradient","ColorPalette","ColorPicker","BottomSheetConsumer","useConvertUnitToMobile","useMobileGlobalStylesColors","BlockControls","InnerBlocks","InspectorControls","MEDIA_TYPE_IMAGE","MediaPlaceholder","MediaUpload","MediaUploadProgress","getColorObjectByColorValue","getColorObjectByAttributeValues","getGradientValueBySlug","store","blockEditorStore","compose","withPreferredColorScheme","useDispatch","withSelect","withDispatch","useEffect","useState","useRef","useCallback","useMemo","cover","icon","replace","image","warning","getProtocol","editPostStore","styles","attributesFromMedia","ALLOWED_MEDIA_TYPES","IMAGE_BACKGROUND_TYPE","VIDEO_BACKGROUND_TYPE","COVER_DEFAULT_HEIGHT","Controls","useCoverIsDark","INNER_BLOCKS_TEMPLATE","align","placeholder","useIsScreenReaderEnabled","isScreenReaderEnabled","setIsScreenReaderEnabled","mounted","changeListener","addEventListener","enabled","then","screenReaderEnabled","remove","Cover","attributes","getStylesFromColorScheme","isParentSelected","onFocus","setAttributes","openGeneralSidebar","closeSettingsBottomSheet","isSelected","selectBlock","blockWidth","hasInnerBlocks","backgroundType","dimRatio","focalPoint","minHeight","url","id","style","customOverlayColor","minHeightUnit","allowedBlocks","templateLock","customGradient","gradient","overlayColor","isDark","convertedMinHeight","isImage","THEME_COLORS_COUNT","colorsDefault","coverDefaultPalette","colors","slice","gradients","gradientValue","overlayColorValue","hasBackground","color","background","hasOnlyColorBackground","isCustomColorPickerShowing","setCustomColorPickerShowing","openMediaOptionsRef","isUploadInProgress","setIsUploadInProgress","didUploadFail","setDidUploadFail","shouldShowFailure","onSelectMedia","media","mediaAttributes","undefined","useFeaturedImage","onMediaPressed","isVideoLoading","setIsVideoLoading","onVideoLoadStart","onVideoLoad","onClearMedia","hasParallax","onAddMediaButtonPress","current","setColor","_colorValue$slug","_ref","colorValue","slug","openColorPicker","__unstableMarkNextChangeAsNotPersistent","isCoverDark","childrenStyles","defaultColor","defaultColorLightMode","className","includes","backgroundColor","backgroundSolid","backgroundSolidDark","overlayStyles","overlay","opacity","overlaySelected","placeholderIconStyle","iconDark","placeholderIcon","createElement","toolbarControls","open","group","title","onClick","accessibilityHint","OS","addMediaButton","accessibilityLabel","accessibilityRole","onPress","selectImageContainer","selectImage","size","selectImageIcon","onBottomSheetClosed","runAfterInteractions","selectedColorText","selectedColorTextDark","bottomLabelText","toUpperCase","colorPickerControls","shouldEnableBottomSheetScroll","shouldEnableBottomSheetMaxHeight","onHandleClosingBottomSheet","onHandleHardwareButtonPress","isBottomSheetContentScrolling","onNavigationBack","renderContent","getMediaOptions","Fragment","renderBackground","accessible","disabled","mediaId","onUpdateMediaProgress","onFinishMediaUploadWithSuccess","mediaServerId","mediaUrl","onFinishMediaUploadWithFailure","onMediaUploadStateReset","imageContainer","editButton","isUploadFailed","onSelectMediaUploadOption","openMediaOptions","width","muted","disableFocus","repeat","resizeMode","source","uri","onLoad","onLoadStart","height","mediaPlaceholderEmptyStateContainer","hideContent","labels","onSelect","allowedTypes","colorPaletteWrapper","pointerEvents","enableCustomColor","customColorIndicatorStyles","paletteColorIndicator","customIndicatorWrapperStyles","paletteCustomIndicatorWrapper","onCustomPress","defaultSettings","shouldShowCustomLabel","shouldShowCustomVerticalSeparator","backgroundContainer","content","template","templateInsertUpdatesSelection","overlayContainer","isReplacingMedia","render","imageEditButton","pickerOptions","destructiveButton","label","separated","value","uploadFailedContainer","uploadFailed","uploadFailedIcon","select","clientId","getSelectedBlockClientId","getBlock","selectedBlockClientId","innerBlocks","length","dispatch","closeGeneralSidebar"],"sources":["@wordpress/block-library/src/cover/edit.native.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport {\n\tView,\n\tTouchableWithoutFeedback,\n\tInteractionManager,\n\tAccessibilityInfo,\n\tText,\n\tPlatform,\n} from 'react-native';\nimport Video from 'react-native-video';\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport {\n\trequestImageFailedRetryDialog,\n\trequestImageUploadCancelDialog,\n\trequestImageFullscreenPreview,\n\tmediaUploadSync,\n} from '@wordpress/react-native-bridge';\nimport { __ } from '@wordpress/i18n';\nimport {\n\tIcon,\n\tImage,\n\tImageEditingButton,\n\tIMAGE_DEFAULT_FOCAL_POINT,\n\tToolbarButton,\n\tGradient,\n\tColorPalette,\n\tColorPicker,\n\tBottomSheetConsumer,\n\tuseConvertUnitToMobile,\n\tuseMobileGlobalStylesColors,\n} from '@wordpress/components';\nimport {\n\tBlockControls,\n\tInnerBlocks,\n\tInspectorControls,\n\tMEDIA_TYPE_IMAGE,\n\tMediaPlaceholder,\n\tMediaUpload,\n\tMediaUploadProgress,\n\tgetColorObjectByColorValue,\n\tgetColorObjectByAttributeValues,\n\tgetGradientValueBySlug,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport { compose, withPreferredColorScheme } from '@wordpress/compose';\nimport { useDispatch, withSelect, withDispatch } from '@wordpress/data';\nimport {\n\tuseEffect,\n\tuseState,\n\tuseRef,\n\tuseCallback,\n\tuseMemo,\n} from '@wordpress/element';\nimport { cover as icon, replace, image, warning } from '@wordpress/icons';\nimport { getProtocol } from '@wordpress/url';\n// eslint-disable-next-line no-restricted-imports\nimport { store as editPostStore } from '@wordpress/edit-post';\n\n/**\n * Internal dependencies\n */\nimport styles from './style.scss';\nimport {\n\tattributesFromMedia,\n\tALLOWED_MEDIA_TYPES,\n\tIMAGE_BACKGROUND_TYPE,\n\tVIDEO_BACKGROUND_TYPE,\n\tCOVER_DEFAULT_HEIGHT,\n} from './shared';\nimport Controls from './controls';\nimport useCoverIsDark from './use-cover-is-dark';\n\n/**\n * Constants\n */\nconst INNER_BLOCKS_TEMPLATE = [\n\t[\n\t\t'core/paragraph',\n\t\t{\n\t\t\talign: 'center',\n\t\t\tplaceholder: __( 'Write titleâ€¦' ),\n\t\t},\n\t],\n];\n\nfunction useIsScreenReaderEnabled() {\n\tconst [ isScreenReaderEnabled, setIsScreenReaderEnabled ] =\n\t\tuseState( false );\n\n\tuseEffect( () => {\n\t\tlet mounted = true;\n\n\t\tconst changeListener = AccessibilityInfo.addEventListener(\n\t\t\t'screenReaderChanged',\n\t\t\t( enabled ) => setIsScreenReaderEnabled( enabled )\n\t\t);\n\n\t\tAccessibilityInfo.isScreenReaderEnabled().then(\n\t\t\t( screenReaderEnabled ) => {\n\t\t\t\tif ( mounted && screenReaderEnabled ) {\n\t\t\t\t\tsetIsScreenReaderEnabled( screenReaderEnabled );\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\n\t\treturn () => {\n\t\t\tmounted = false;\n\n\t\t\tchangeListener.remove();\n\t\t};\n\t}, [] );\n\n\treturn isScreenReaderEnabled;\n}\n\nconst Cover = ( {\n\tattributes,\n\tgetStylesFromColorScheme,\n\tisParentSelected,\n\tonFocus,\n\tsetAttributes,\n\topenGeneralSidebar,\n\tcloseSettingsBottomSheet,\n\tisSelected,\n\tselectBlock,\n\tblockWidth,\n\thasInnerBlocks,\n} ) => {\n\tconst {\n\t\tbackgroundType,\n\t\tdimRatio,\n\t\tfocalPoint,\n\t\tminHeight,\n\t\turl,\n\t\tid,\n\t\tstyle,\n\t\tcustomOverlayColor,\n\t\tminHeightUnit = 'px',\n\t\tallowedBlocks,\n\t\ttemplateLock,\n\t\tcustomGradient,\n\t\tgradient,\n\t\toverlayColor,\n\t\tisDark,\n\t} = attributes;\n\tconst isScreenReaderEnabled = useIsScreenReaderEnabled();\n\n\tuseEffect( () => {\n\t\t// Sync with local media store.\n\t\tmediaUploadSync();\n\t}, [] );\n\n\tconst convertedMinHeight = useConvertUnitToMobile(\n\t\tminHeight || COVER_DEFAULT_HEIGHT,\n\t\tminHeightUnit\n\t);\n\n\tconst isImage = backgroundType === MEDIA_TYPE_IMAGE;\n\n\tconst THEME_COLORS_COUNT = 4;\n\tconst colorsDefault = useMobileGlobalStylesColors();\n\tconst coverDefaultPalette = useMemo( () => {\n\t\treturn {\n\t\t\tcolors: colorsDefault.slice( 0, THEME_COLORS_COUNT ),\n\t\t};\n\t}, [ colorsDefault ] );\n\tconst gradients = useMobileGlobalStylesColors( 'gradients' );\n\tconst gradientValue =\n\t\tcustomGradient || getGradientValueBySlug( gradients, gradient );\n\tconst overlayColorValue = getColorObjectByAttributeValues(\n\t\tcolorsDefault,\n\t\toverlayColor\n\t);\n\n\tconst hasBackground = !! (\n\t\turl ||\n\t\t( style && style.color && style.color.background ) ||\n\t\tattributes.overlayColor ||\n\t\toverlayColorValue.color ||\n\t\tcustomOverlayColor ||\n\t\tgradientValue\n\t);\n\n\tconst hasOnlyColorBackground = ! url && ( hasBackground || hasInnerBlocks );\n\n\tconst [ isCustomColorPickerShowing, setCustomColorPickerShowing ] =\n\t\tuseState( false );\n\n\tconst openMediaOptionsRef = useRef();\n\n\t// Initialize uploading flag to false, awaiting sync.\n\tconst [ isUploadInProgress, setIsUploadInProgress ] = useState( false );\n\n\t// Initialize upload failure flag to true if url is local.\n\tconst [ didUploadFail, setDidUploadFail ] = useState(\n\t\tid && getProtocol( url ) === 'file:'\n\t);\n\n\t// Don't show failure if upload is in progress.\n\tconst shouldShowFailure = didUploadFail && ! isUploadInProgress;\n\n\tconst onSelectMedia = ( media ) => {\n\t\tsetDidUploadFail( false );\n\n\t\tconst mediaAttributes = attributesFromMedia( media );\n\t\tsetAttributes( {\n\t\t\t...mediaAttributes,\n\t\t\tfocalPoint: undefined,\n\t\t\tuseFeaturedImage: undefined,\n\t\t\tdimRatio: dimRatio === 100 ? 50 : dimRatio,\n\t\t\tisDark: undefined,\n\t\t} );\n\t};\n\n\tconst onMediaPressed = () => {\n\t\tif ( isUploadInProgress ) {\n\t\t\trequestImageUploadCancelDialog( id );\n\t\t} else if ( shouldShowFailure ) {\n\t\t\trequestImageFailedRetryDialog( id );\n\t\t} else if ( isImage && url ) {\n\t\t\trequestImageFullscreenPreview( url );\n\t\t}\n\t};\n\n\tconst [ isVideoLoading, setIsVideoLoading ] = useState( true );\n\n\tconst onVideoLoadStart = () => {\n\t\tsetIsVideoLoading( true );\n\t};\n\n\tconst onVideoLoad = () => {\n\t\tsetIsVideoLoading( false );\n\t};\n\n\tconst onClearMedia = useCallback( () => {\n\t\tsetAttributes( {\n\t\t\tfocalPoint: undefined,\n\t\t\thasParallax: undefined,\n\t\t\tid: undefined,\n\t\t\turl: undefined,\n\t\t} );\n\t\tcloseSettingsBottomSheet();\n\t}, [ closeSettingsBottomSheet ] );\n\n\tconst onAddMediaButtonPress = useCallback( () => {\n\t\tif ( openMediaOptionsRef?.current ) {\n\t\t\topenMediaOptionsRef.current();\n\t\t}\n\t}, [] );\n\n\tfunction setColor( color ) {\n\t\tconst colorValue = getColorObjectByColorValue( colorsDefault, color );\n\n\t\tsetAttributes( {\n\t\t\t// Clear all related attributes (only one should be set).\n\t\t\toverlayColor: colorValue?.slug ?? undefined,\n\t\t\tcustomOverlayColor: ( ! colorValue?.slug && color ) ?? undefined,\n\t\t\tgradient: undefined,\n\t\t\tcustomGradient: undefined,\n\t\t} );\n\t}\n\n\tfunction openColorPicker() {\n\t\tselectBlock();\n\t\tsetCustomColorPickerShowing( true );\n\t\topenGeneralSidebar();\n\t}\n\n\tconst { __unstableMarkNextChangeAsNotPersistent } =\n\t\tuseDispatch( blockEditorStore );\n\tconst isCoverDark = useCoverIsDark(\n\t\tisDark,\n\t\turl,\n\t\tdimRatio,\n\t\toverlayColorValue?.color\n\t);\n\n\tuseEffect( () => {\n\t\t// This side-effect should not create an undo level.\n\t\t__unstableMarkNextChangeAsNotPersistent();\n\t\t// Used to set a default color for its InnerBlocks\n\t\t// since there's no system to inherit styles yet\n\t\t// the RichText component will check if there are\n\t\t// parent styles for the current block. If there are,\n\t\t// it will use that color instead.\n\t\tsetAttributes( {\n\t\t\tisDark: isCoverDark,\n\t\t\tchildrenStyles: isCoverDark\n\t\t\t\t? styles.defaultColor\n\t\t\t\t: styles.defaultColorLightMode,\n\t\t} );\n\n\t\t// Ensure that \"is-light\" is removed from \"className\" attribute if cover background is dark.\n\t\tif ( isCoverDark && attributes.className?.includes( 'is-light' ) ) {\n\t\t\tconst className = clsx( attributes.className, {\n\t\t\t\t'is-light': false,\n\t\t\t} );\n\t\t\tsetAttributes( {\n\t\t\t\tclassName: className !== '' ? className : undefined,\n\t\t\t} );\n\t\t}\n\t}, [ isCoverDark ] );\n\n\tconst backgroundColor = getStylesFromColorScheme(\n\t\tstyles.backgroundSolid,\n\t\tstyles.backgroundSolidDark\n\t);\n\n\tconst overlayStyles = [\n\t\tstyles.overlay,\n\t\turl && { opacity: dimRatio / 100 },\n\t\t! gradientValue && {\n\t\t\tbackgroundColor:\n\t\t\t\tcustomOverlayColor ||\n\t\t\t\toverlayColorValue?.color ||\n\t\t\t\tstyle?.color?.background ||\n\t\t\t\tstyles.overlay?.color,\n\t\t},\n\t\t// While we don't support theme colors we add a default bg color.\n\t\t! overlayColorValue.color && ! url ? backgroundColor : {},\n\t\tisImage &&\n\t\t\tisParentSelected &&\n\t\t\t! isUploadInProgress &&\n\t\t\t! didUploadFail &&\n\t\t\tstyles.overlaySelected,\n\t];\n\n\tconst placeholderIconStyle = getStylesFromColorScheme(\n\t\tstyles.icon,\n\t\tstyles.iconDark\n\t);\n\n\tconst placeholderIcon = <Icon icon={ icon } { ...placeholderIconStyle } />;\n\n\tconst toolbarControls = ( open ) => (\n\t\t<BlockControls group=\"other\">\n\t\t\t<ToolbarButton\n\t\t\t\ttitle={ __( 'Edit cover media' ) }\n\t\t\t\ticon={ replace }\n\t\t\t\tonClick={ open }\n\t\t\t/>\n\t\t</BlockControls>\n\t);\n\n\tconst accessibilityHint =\n\t\tPlatform.OS === 'ios'\n\t\t\t? __( 'Double tap to open Action Sheet to add image or video' )\n\t\t\t: __( 'Double tap to open Bottom Sheet to add image or video' );\n\n\tconst addMediaButton = () => (\n\t\t<TouchableWithoutFeedback\n\t\t\taccessibilityHint={ accessibilityHint }\n\t\t\taccessibilityLabel={ __( 'Add image or video' ) }\n\t\t\taccessibilityRole=\"button\"\n\t\t\tonPress={ onAddMediaButtonPress }\n\t\t>\n\t\t\t<View style={ styles.selectImageContainer }>\n\t\t\t\t<View style={ styles.selectImage }>\n\t\t\t\t\t<Icon\n\t\t\t\t\t\tsize={ 16 }\n\t\t\t\t\t\ticon={ image }\n\t\t\t\t\t\t{ ...styles.selectImageIcon }\n\t\t\t\t\t/>\n\t\t\t\t</View>\n\t\t\t</View>\n\t\t</TouchableWithoutFeedback>\n\t);\n\n\tconst onBottomSheetClosed = useCallback( () => {\n\t\tInteractionManager.runAfterInteractions( () => {\n\t\t\tsetCustomColorPickerShowing( false );\n\t\t} );\n\t}, [] );\n\n\tconst selectedColorText = getStylesFromColorScheme(\n\t\tstyles.selectedColorText,\n\t\tstyles.selectedColorTextDark\n\t);\n\n\tconst bottomLabelText = customOverlayColor ? (\n\t\t<Text style={ selectedColorText }>\n\t\t\t{ customOverlayColor.toUpperCase() }\n\t\t</Text>\n\t) : (\n\t\t__( 'Select a color' )\n\t);\n\n\tconst colorPickerControls = (\n\t\t<InspectorControls>\n\t\t\t<BottomSheetConsumer>\n\t\t\t\t{ ( {\n\t\t\t\t\tshouldEnableBottomSheetScroll,\n\t\t\t\t\tshouldEnableBottomSheetMaxHeight,\n\t\t\t\t\tonHandleClosingBottomSheet,\n\t\t\t\t\tonHandleHardwareButtonPress,\n\t\t\t\t\tisBottomSheetContentScrolling,\n\t\t\t\t} ) => (\n\t\t\t\t\t<ColorPicker\n\t\t\t\t\t\tshouldEnableBottomSheetScroll={\n\t\t\t\t\t\t\tshouldEnableBottomSheetScroll\n\t\t\t\t\t\t}\n\t\t\t\t\t\tshouldEnableBottomSheetMaxHeight={\n\t\t\t\t\t\t\tshouldEnableBottomSheetMaxHeight\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsetColor={ setColor }\n\t\t\t\t\t\tonNavigationBack={ closeSettingsBottomSheet }\n\t\t\t\t\t\tonHandleClosingBottomSheet={\n\t\t\t\t\t\t\tonHandleClosingBottomSheet\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonHandleHardwareButtonPress={\n\t\t\t\t\t\t\tonHandleHardwareButtonPress\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonBottomSheetClosed={ onBottomSheetClosed }\n\t\t\t\t\t\tisBottomSheetContentScrolling={\n\t\t\t\t\t\t\tisBottomSheetContentScrolling\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbottomLabelText={ bottomLabelText }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</BottomSheetConsumer>\n\t\t</InspectorControls>\n\t);\n\n\tconst renderContent = ( getMediaOptions ) => (\n\t\t<>\n\t\t\t{ renderBackground( getMediaOptions ) }\n\t\t\t{ isParentSelected && hasOnlyColorBackground && addMediaButton() }\n\t\t</>\n\t);\n\n\tconst renderBackground = ( getMediaOptions ) => (\n\t\t<TouchableWithoutFeedback\n\t\t\taccessible={ ! isParentSelected }\n\t\t\tonPress={ onMediaPressed }\n\t\t\tdisabled={ ! isParentSelected }\n\t\t>\n\t\t\t<View style={ [ styles.background, backgroundColor ] }>\n\t\t\t\t{ getMediaOptions() }\n\t\t\t\t{ isParentSelected &&\n\t\t\t\t\tbackgroundType === VIDEO_BACKGROUND_TYPE &&\n\t\t\t\t\ttoolbarControls( openMediaOptionsRef.current ) }\n\t\t\t\t<MediaUploadProgress\n\t\t\t\t\tmediaId={ id }\n\t\t\t\t\tonUpdateMediaProgress={ () => {\n\t\t\t\t\t\tsetIsUploadInProgress( true );\n\t\t\t\t\t} }\n\t\t\t\t\tonFinishMediaUploadWithSuccess={ ( {\n\t\t\t\t\t\tmediaServerId,\n\t\t\t\t\t\tmediaUrl,\n\t\t\t\t\t} ) => {\n\t\t\t\t\t\tsetIsUploadInProgress( false );\n\t\t\t\t\t\tsetDidUploadFail( false );\n\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\tid: mediaServerId,\n\t\t\t\t\t\t\turl: mediaUrl,\n\t\t\t\t\t\t\tbackgroundType,\n\t\t\t\t\t\t} );\n\t\t\t\t\t} }\n\t\t\t\t\tonFinishMediaUploadWithFailure={ () => {\n\t\t\t\t\t\tsetIsUploadInProgress( false );\n\t\t\t\t\t\tsetDidUploadFail( true );\n\t\t\t\t\t} }\n\t\t\t\t\tonMediaUploadStateReset={ () => {\n\t\t\t\t\t\tsetIsUploadInProgress( false );\n\t\t\t\t\t\tsetDidUploadFail( false );\n\t\t\t\t\t\tsetAttributes( { id: undefined, url: undefined } );\n\t\t\t\t\t} }\n\t\t\t\t/>\n\n\t\t\t\t{ IMAGE_BACKGROUND_TYPE === backgroundType && (\n\t\t\t\t\t<View style={ styles.imageContainer }>\n\t\t\t\t\t\t<Image\n\t\t\t\t\t\t\teditButton={ false }\n\t\t\t\t\t\t\tfocalPoint={\n\t\t\t\t\t\t\t\tfocalPoint || IMAGE_DEFAULT_FOCAL_POINT\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tisSelected={ isParentSelected }\n\t\t\t\t\t\t\tisUploadFailed={ didUploadFail }\n\t\t\t\t\t\t\tisUploadInProgress={ isUploadInProgress }\n\t\t\t\t\t\t\tonSelectMediaUploadOption={ onSelectMedia }\n\t\t\t\t\t\t\topenMediaOptions={ openMediaOptionsRef.current }\n\t\t\t\t\t\t\turl={ url }\n\t\t\t\t\t\t\twidth={ styles.image?.width }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</View>\n\t\t\t\t) }\n\n\t\t\t\t{ VIDEO_BACKGROUND_TYPE === backgroundType && (\n\t\t\t\t\t<Video\n\t\t\t\t\t\tmuted\n\t\t\t\t\t\tdisableFocus\n\t\t\t\t\t\trepeat\n\t\t\t\t\t\tresizeMode={ 'cover' }\n\t\t\t\t\t\tsource={ { uri: url } }\n\t\t\t\t\t\tonLoad={ onVideoLoad }\n\t\t\t\t\t\tonLoadStart={ onVideoLoadStart }\n\t\t\t\t\t\tstyle={ [\n\t\t\t\t\t\t\tstyles.background,\n\t\t\t\t\t\t\t// Hide Video component since it has black background while loading the source.\n\t\t\t\t\t\t\t{ opacity: isVideoLoading ? 0 : 1 },\n\t\t\t\t\t\t] }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</View>\n\t\t</TouchableWithoutFeedback>\n\t);\n\n\tif (\n\t\t( ! hasBackground && ! hasInnerBlocks ) ||\n\t\tisCustomColorPickerShowing\n\t) {\n\t\treturn (\n\t\t\t<View>\n\t\t\t\t{ isCustomColorPickerShowing && colorPickerControls }\n\t\t\t\t<MediaPlaceholder\n\t\t\t\t\theight={\n\t\t\t\t\t\tstyles.mediaPlaceholderEmptyStateContainer?.height\n\t\t\t\t\t}\n\t\t\t\t\tbackgroundColor={ customOverlayColor }\n\t\t\t\t\thideContent={\n\t\t\t\t\t\tcustomOverlayColor !== '' &&\n\t\t\t\t\t\tcustomOverlayColor !== undefined\n\t\t\t\t\t}\n\t\t\t\t\ticon={ placeholderIcon }\n\t\t\t\t\tlabels={ {\n\t\t\t\t\t\ttitle: __( 'Cover' ),\n\t\t\t\t\t} }\n\t\t\t\t\tonSelect={ onSelectMedia }\n\t\t\t\t\tallowedTypes={ ALLOWED_MEDIA_TYPES }\n\t\t\t\t\tonFocus={ onFocus }\n\t\t\t\t>\n\t\t\t\t\t<View\n\t\t\t\t\t\tstyle={ styles.colorPaletteWrapper }\n\t\t\t\t\t\tpointerEvents={\n\t\t\t\t\t\t\tisScreenReaderEnabled ? 'none' : 'auto'\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t<BottomSheetConsumer>\n\t\t\t\t\t\t\t{ ( { shouldEnableBottomSheetScroll } ) => (\n\t\t\t\t\t\t\t\t<ColorPalette\n\t\t\t\t\t\t\t\t\tenableCustomColor\n\t\t\t\t\t\t\t\t\tcustomColorIndicatorStyles={\n\t\t\t\t\t\t\t\t\t\tstyles.paletteColorIndicator\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tcustomIndicatorWrapperStyles={\n\t\t\t\t\t\t\t\t\t\tstyles.paletteCustomIndicatorWrapper\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tsetColor={ setColor }\n\t\t\t\t\t\t\t\t\tonCustomPress={ openColorPicker }\n\t\t\t\t\t\t\t\t\tdefaultSettings={ coverDefaultPalette }\n\t\t\t\t\t\t\t\t\tshouldShowCustomLabel={ false }\n\t\t\t\t\t\t\t\t\tshouldShowCustomVerticalSeparator={ false }\n\t\t\t\t\t\t\t\t\tshouldEnableBottomSheetScroll={\n\t\t\t\t\t\t\t\t\t\tshouldEnableBottomSheetScroll\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</BottomSheetConsumer>\n\t\t\t\t\t</View>\n\t\t\t\t</MediaPlaceholder>\n\t\t\t</View>\n\t\t);\n\t}\n\n\treturn (\n\t\t<View style={ styles.backgroundContainer }>\n\t\t\t{ isSelected && (\n\t\t\t\t<InspectorControls>\n\t\t\t\t\t<Controls\n\t\t\t\t\t\tattributes={ attributes }\n\t\t\t\t\t\tdidUploadFail={ didUploadFail }\n\t\t\t\t\t\thasOnlyColorBackground={ hasOnlyColorBackground }\n\t\t\t\t\t\tisUploadInProgress={ isUploadInProgress }\n\t\t\t\t\t\tonClearMedia={ onClearMedia }\n\t\t\t\t\t\tonSelectMedia={ onSelectMedia }\n\t\t\t\t\t\tsetAttributes={ setAttributes }\n\t\t\t\t\t/>\n\t\t\t\t</InspectorControls>\n\t\t\t) }\n\n\t\t\t<View\n\t\t\t\tpointerEvents=\"box-none\"\n\t\t\t\tstyle={ [ styles.content, { minHeight: convertedMinHeight } ] }\n\t\t\t>\n\t\t\t\t<InnerBlocks\n\t\t\t\t\tallowedBlocks={ allowedBlocks }\n\t\t\t\t\ttemplate={ INNER_BLOCKS_TEMPLATE }\n\t\t\t\t\ttemplateLock={ templateLock }\n\t\t\t\t\ttemplateInsertUpdatesSelection\n\t\t\t\t\tblockWidth={ blockWidth }\n\t\t\t\t/>\n\t\t\t</View>\n\n\t\t\t<View pointerEvents=\"none\" style={ styles.overlayContainer }>\n\t\t\t\t<View style={ overlayStyles }>\n\t\t\t\t\t{ gradientValue && (\n\t\t\t\t\t\t<Gradient\n\t\t\t\t\t\t\tgradientValue={ gradientValue }\n\t\t\t\t\t\t\tstyle={ styles.background }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t</View>\n\t\t\t</View>\n\n\t\t\t<MediaUpload\n\t\t\t\tallowedTypes={ ALLOWED_MEDIA_TYPES }\n\t\t\t\tisReplacingMedia={ ! hasOnlyColorBackground }\n\t\t\t\tonSelect={ onSelectMedia }\n\t\t\t\trender={ ( { open, getMediaOptions } ) => {\n\t\t\t\t\topenMediaOptionsRef.current = open;\n\t\t\t\t\treturn renderContent( getMediaOptions );\n\t\t\t\t} }\n\t\t\t/>\n\n\t\t\t{ isImage &&\n\t\t\t\turl &&\n\t\t\t\topenMediaOptionsRef.current &&\n\t\t\t\tisParentSelected &&\n\t\t\t\t! isUploadInProgress &&\n\t\t\t\t! didUploadFail && (\n\t\t\t\t\t<View style={ styles.imageEditButton }>\n\t\t\t\t\t\t<ImageEditingButton\n\t\t\t\t\t\t\tonSelectMediaUploadOption={ onSelectMedia }\n\t\t\t\t\t\t\topenMediaOptions={ openMediaOptionsRef.current }\n\t\t\t\t\t\t\tpickerOptions={ [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tdestructiveButton: true,\n\t\t\t\t\t\t\t\t\tid: 'clearMedia',\n\t\t\t\t\t\t\t\t\tlabel: __( 'Clear Media' ),\n\t\t\t\t\t\t\t\t\tonPress: onClearMedia,\n\t\t\t\t\t\t\t\t\tseparated: true,\n\t\t\t\t\t\t\t\t\tvalue: 'clearMedia',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t] }\n\t\t\t\t\t\t\turl={ url }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</View>\n\t\t\t\t) }\n\n\t\t\t{ shouldShowFailure && (\n\t\t\t\t<View\n\t\t\t\t\tpointerEvents=\"none\"\n\t\t\t\t\tstyle={ styles.uploadFailedContainer }\n\t\t\t\t>\n\t\t\t\t\t<View style={ styles.uploadFailed }>\n\t\t\t\t\t\t<Icon icon={ warning } { ...styles.uploadFailedIcon } />\n\t\t\t\t\t</View>\n\t\t\t\t</View>\n\t\t\t) }\n\t\t</View>\n\t);\n};\n\nexport default compose( [\n\twithSelect( ( select, { clientId } ) => {\n\t\tconst { getSelectedBlockClientId, getBlock } =\n\t\t\tselect( blockEditorStore );\n\n\t\tconst selectedBlockClientId = getSelectedBlockClientId();\n\n\t\tconst hasInnerBlocks = getBlock( clientId )?.innerBlocks.length > 0;\n\n\t\treturn {\n\t\t\tisParentSelected: selectedBlockClientId === clientId,\n\t\t\thasInnerBlocks,\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch, { clientId } ) => {\n\t\tconst { openGeneralSidebar } = dispatch( editPostStore );\n\t\tconst { selectBlock } = dispatch( blockEditorStore );\n\n\t\treturn {\n\t\t\topenGeneralSidebar: () => openGeneralSidebar( 'edit-post/block' ),\n\t\t\tcloseSettingsBottomSheet() {\n\t\t\t\tdispatch( editPostStore ).closeGeneralSidebar();\n\t\t\t},\n\t\t\tselectBlock: () => selectBlock( clientId ),\n\t\t};\n\t} ),\n\twithPreferredColorScheme,\n] )( Cover );\n"],"mappings":"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","ignoreList":[]}
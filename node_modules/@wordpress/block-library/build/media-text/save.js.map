{"version":3,"names":["_clsx","_interopRequireDefault","require","_blockEditor","_mediaContainer","_constants","DEFAULT_MEDIA_WIDTH","noop","save","attributes","isStackedOnMobile","mediaAlt","mediaPosition","mediaType","mediaUrl","mediaWidth","mediaId","verticalAlignment","imageFill","focalPoint","linkClass","href","linkTarget","rel","mediaSizeSlug","DEFAULT_MEDIA_SIZE_SLUG","newRel","undefined","imageClasses","clsx","image","_react","createElement","src","alt","className","target","mediaTypeRenders","video","controls","backgroundStyles","imageFillStyles","gridTemplateColumns","style","useBlockProps","useInnerBlocksProps"],"sources":["@wordpress/block-library/src/media-text/save.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { useInnerBlocksProps, useBlockProps } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport { imageFillStyles } from './media-container';\nimport { DEFAULT_MEDIA_SIZE_SLUG } from './constants';\n\nconst DEFAULT_MEDIA_WIDTH = 50;\nconst noop = () => {};\n\nexport default function save( { attributes } ) {\n\tconst {\n\t\tisStackedOnMobile,\n\t\tmediaAlt,\n\t\tmediaPosition,\n\t\tmediaType,\n\t\tmediaUrl,\n\t\tmediaWidth,\n\t\tmediaId,\n\t\tverticalAlignment,\n\t\timageFill,\n\t\tfocalPoint,\n\t\tlinkClass,\n\t\thref,\n\t\tlinkTarget,\n\t\trel,\n\t} = attributes;\n\tconst mediaSizeSlug = attributes.mediaSizeSlug || DEFAULT_MEDIA_SIZE_SLUG;\n\tconst newRel = ! rel ? undefined : rel;\n\n\tconst imageClasses = clsx( {\n\t\t[ `wp-image-${ mediaId }` ]: mediaId && mediaType === 'image',\n\t\t[ `size-${ mediaSizeSlug }` ]: mediaId && mediaType === 'image',\n\t} );\n\n\tlet image = mediaUrl ? (\n\t\t<img\n\t\t\tsrc={ mediaUrl }\n\t\t\talt={ mediaAlt }\n\t\t\tclassName={ imageClasses || null }\n\t\t/>\n\t) : null;\n\n\tif ( href ) {\n\t\timage = (\n\t\t\t<a\n\t\t\t\tclassName={ linkClass }\n\t\t\t\thref={ href }\n\t\t\t\ttarget={ linkTarget }\n\t\t\t\trel={ newRel }\n\t\t\t>\n\t\t\t\t{ image }\n\t\t\t</a>\n\t\t);\n\t}\n\n\tconst mediaTypeRenders = {\n\t\timage: () => image,\n\t\tvideo: () => <video controls src={ mediaUrl } />,\n\t};\n\tconst className = clsx( {\n\t\t'has-media-on-the-right': 'right' === mediaPosition,\n\t\t'is-stacked-on-mobile': isStackedOnMobile,\n\t\t[ `is-vertically-aligned-${ verticalAlignment }` ]: verticalAlignment,\n\t\t'is-image-fill': imageFill,\n\t} );\n\tconst backgroundStyles = imageFill\n\t\t? imageFillStyles( mediaUrl, focalPoint )\n\t\t: {};\n\n\tlet gridTemplateColumns;\n\tif ( mediaWidth !== DEFAULT_MEDIA_WIDTH ) {\n\t\tgridTemplateColumns =\n\t\t\t'right' === mediaPosition\n\t\t\t\t? `auto ${ mediaWidth }%`\n\t\t\t\t: `${ mediaWidth }% auto`;\n\t}\n\tconst style = {\n\t\tgridTemplateColumns,\n\t};\n\n\tif ( 'right' === mediaPosition ) {\n\t\treturn (\n\t\t\t<div { ...useBlockProps.save( { className, style } ) }>\n\t\t\t\t<div\n\t\t\t\t\t{ ...useInnerBlocksProps.save( {\n\t\t\t\t\t\tclassName: 'wp-block-media-text__content',\n\t\t\t\t\t} ) }\n\t\t\t\t/>\n\t\t\t\t<figure\n\t\t\t\t\tclassName=\"wp-block-media-text__media\"\n\t\t\t\t\tstyle={ backgroundStyles }\n\t\t\t\t>\n\t\t\t\t\t{ ( mediaTypeRenders[ mediaType ] || noop )() }\n\t\t\t\t</figure>\n\t\t\t</div>\n\t\t);\n\t}\n\treturn (\n\t\t<div { ...useBlockProps.save( { className, style } ) }>\n\t\t\t<figure\n\t\t\t\tclassName=\"wp-block-media-text__media\"\n\t\t\t\tstyle={ backgroundStyles }\n\t\t\t>\n\t\t\t\t{ ( mediaTypeRenders[ mediaType ] || noop )() }\n\t\t\t</figure>\n\t\t\t<div\n\t\t\t\t{ ...useInnerBlocksProps.save( {\n\t\t\t\t\tclassName: 'wp-block-media-text__content',\n\t\t\t\t} ) }\n\t\t\t/>\n\t\t</div>\n\t);\n}\n"],"mappings":"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","ignoreList":[]}